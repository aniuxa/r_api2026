[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Curso: De las APIs a los gráficos: explorando datos sociales con R",
    "section": "",
    "text": "Contenido"
  },
  {
    "objectID": "index.html#bienvenida",
    "href": "index.html#bienvenida",
    "title": "Curso: De las APIs a los gráficos: explorando datos sociales con R",
    "section": "Bienvenida",
    "text": "Bienvenida\nEste curso ofrece una ruta práctica para consultar fuentes de información en línea mediante APIs y paquetes especializados en R, procesarlas y construir visualizaciones claras y reproducibles orientadas al análisis social."
  },
  {
    "objectID": "index.html#datos-generales",
    "href": "index.html#datos-generales",
    "title": "Curso: De las APIs a los gráficos: explorando datos sociales con R",
    "section": "Datos generales",
    "text": "Datos generales\n\nModalidad: en línea\nFechas: del 19 al 23 de enero de 2026\nHorario: 10:00 a 14:00 (lunes a viernes)\nDuración: 20 horas (5 sesiones de 4 horas)"
  },
  {
    "objectID": "index.html#docente",
    "href": "index.html#docente",
    "title": "Curso: De las APIs a los gráficos: explorando datos sociales con R",
    "section": "Docente",
    "text": "Docente\nDra. Ana Ruth Escoto Castillo\nCETMECS, Facultad de Ciencias Políticas y Sociales, UNAM"
  },
  {
    "objectID": "index.html#objetivo-general",
    "href": "index.html#objetivo-general",
    "title": "Curso: De las APIs a los gráficos: explorando datos sociales con R",
    "section": "Objetivo general",
    "text": "Objetivo general\nQue el estudiantado sea capaz de consultar fuentes de información en línea mediante APIs y paquetes especializados en R (como WDI, wpp2024, entre otros), procesarlas y generar visualizaciones claras y reproducibles que apoyen el análisis social."
  },
  {
    "objectID": "index.html#estructura-del-curso-5-sesiones",
    "href": "index.html#estructura-del-curso-5-sesiones",
    "title": "Curso: De las APIs a los gráficos: explorando datos sociales con R",
    "section": "Estructura del curso (5 sesiones)",
    "text": "Estructura del curso (5 sesiones)\nA lo largo de la semana seguiremos el temario aprobado:\n\nIntroducción a las APIs y fuentes de datos sociales en línea (4 h)\n\nImportación y procesamiento de datos obtenidos en línea (4 h)\n\nExploración y análisis descriptivo de datos (4 h)\n\nVisualización de datos sociales (4 h)\n\nProyecto integrador (4 h)"
  },
  {
    "objectID": "index.html#programa-día-por-día",
    "href": "index.html#programa-día-por-día",
    "title": "Curso: De las APIs a los gráficos: explorando datos sociales con R",
    "section": "Programa día por día",
    "text": "Programa día por día\n\nDía 1 · APIs y primeras conexiones\n\n¿Qué es una API? Endpoints, parámetros, tokens y respuestas en JSON.\nPrimeras consultas con paquetes y/o solicitudes HTTP.\nFuentes de ejemplo: INEGI, Banxico, Banco Mundial, CEPAL\n\n\n\nDía 2 · Importación y limpieza\n\nImportación de datos (CSV, XLSX y otros formatos).\nLimpieza y ordenamiento con tidyverse (nombres, tipos, fechas, valores perdidos).\n\n\n\nDía 3 · Análisis descriptivo\n\nTabulados básicos y medidas descriptivas.\nFactores de expansión cuando corresponda.\n\n\n\nDía 4 · Visualización\n\nGráficos univariados y bivariados con ggplot2.\nBuenas prácticas para comunicar resultados.\n\n\n\nDía 5 · Proyecto integrador\n\nIntegración: consulta de datos en línea + limpieza + visualización.\nEntrega breve del ejercicio aplicado."
  },
  {
    "objectID": "index.html#requisitos-evaluación-y-acreditación",
    "href": "index.html#requisitos-evaluación-y-acreditación",
    "title": "Curso: De las APIs a los gráficos: explorando datos sociales con R",
    "section": "Requisitos, evaluación y acreditación",
    "text": "Requisitos, evaluación y acreditación\n\nRequisito: conocimientos básicos de estadística descriptiva e interés en el análisis de datos sociales.\nAcreditación: al menos 80% de asistencia.\nEvaluación: ejercicios prácticos por tema y proyecto integrador final."
  },
  {
    "objectID": "index.html#instalación-recomendada-antes-del-día-1",
    "href": "index.html#instalación-recomendada-antes-del-día-1",
    "title": "Curso: De las APIs a los gráficos: explorando datos sociales con R",
    "section": "Instalación recomendada (antes del Día 1)",
    "text": "Instalación recomendada (antes del Día 1)\nTe recomendamos instalar R y RStudio con anticipación:\n\nGuía de instalación (macOS y Windows)\nPaquetes básicos"
  },
  {
    "objectID": "index.html#bibliografía-base",
    "href": "index.html#bibliografía-base",
    "title": "Curso: De las APIs a los gráficos: explorando datos sociales con R",
    "section": "Bibliografía base",
    "text": "Bibliografía base\n\nWickham, H., & Grolemund, G. (2016). R for Data Science.\n\nHealy, K. (2018). Data Visualization: A Practical Introduction.\n\nEscoto Castillo, A. R. (2021). ¿Cómo empezar a estudiar el mercado de trabajo en México? UNAM."
  },
  {
    "objectID": "install.html#requisitos-generales",
    "href": "install.html#requisitos-generales",
    "title": "Instalación de R y RStudio",
    "section": "1. Requisitos generales",
    "text": "1. Requisitos generales\n\nConexión a internet y permisos para instalar software.\nEspacio libre en disco (R + RStudio + herramientas de compilación pueden ocupar varios cientos de MB).\nRecomendación: reiniciar el equipo después de instalar R, y nuevamente después de instalar RStudio."
  },
  {
    "objectID": "install.html#instalación-en-macos",
    "href": "install.html#instalación-en-macos",
    "title": "Instalación de R y RStudio",
    "section": "2. Instalación en macOS",
    "text": "2. Instalación en macOS\n\n2.1 Descargar e instalar R2.2 Instalar herramientas de compilación2.3 Instalar RStudio (Posit)\n\n\n\nEntra a CRAN para macOS y descarga la versión más reciente de R para Mac.\nElige el instalador que corresponda a tu procesador:\n\nApple Silicon (ARM64): Macs con procesadores M1/M2/M3/M4.\nIntel (x86_64): Macs con procesador Intel.\n\n\n\nSi no estás segura/o del procesador: menú  → Acerca de esta Mac.\n\n\n\nEn el curso instalaremos paquetes que, en algunos casos, necesitan compilar código (C/C++ o Fortran). En macOS, lo mínimo recomendado es:\n\nXQuartz (X11).\nXcode Command Line Tools (herramientas de desarrollo de Apple).\nGNU Fortran (gfortran), recomendado por el equipo de R para macOS.\n\nEnlaces: - XQuartz: https://www.xquartz.org/ - Xcode (recursos oficiales): https://developer.apple.com/xcode/resources/ - gfortran (instalador universal recomendado): https://mac.r-project.org/tools/\n\n\n\nEntra al sitio de Posit y descarga RStudio Desktop para macOS.\nInstala el archivo descargado siguiendo el asistente."
  },
  {
    "objectID": "install.html#instalación-en-windows",
    "href": "install.html#instalación-en-windows",
    "title": "Instalación de R y RStudio",
    "section": "3. Instalación en Windows",
    "text": "3. Instalación en Windows\n\n3.1 Descargar e instalar R3.2 Instalar Rtools3.3 Instalar RStudio (Posit)\n\n\n\nEntra a CRAN para Windows (base) y descarga la versión más reciente de R para Windows.\nEjecuta el instalador (.exe) y conserva las opciones por defecto (suelen funcionar bien para la mayoría de los equipos).\n\n\n\nRtools es un conjunto de herramientas para compilar paquetes que incluyen código (C/C++/Fortran). No siempre es necesario para instalar paquetes desde CRAN, pero ayuda a evitar problemas cuando un paquete no tiene binario disponible o requiere compilación.\n\nEntra a la página de Rtools y descarga la versión recomendada para R 4.5.x.\nInstala en la ruta sugerida por defecto (por ejemplo, C:\\rtools45).\n\n\nSi tu equipo es Windows ARM (poco común), revisa la sección de instaladores ARM indicada en la página oficial.\n\n\n\n\nEntra al sitio de Posit y descarga RStudio Desktop para Windows.\nInstala el archivo descargado siguiendo el asistente."
  },
  {
    "objectID": "install.html#verificación-rápida-recomendado",
    "href": "install.html#verificación-rápida-recomendado",
    "title": "Instalación de R y RStudio",
    "section": "4. Verificación rápida (recomendado)",
    "text": "4. Verificación rápida (recomendado)\nUna vez instalado todo, abre RStudio y ejecuta estas líneas en la consola:\nR.version.string\nRStudio.Version()$version\nSi aparece la versión de R y la versión de RStudio sin errores, la instalación básica está lista."
  },
  {
    "objectID": "install.html#referencias",
    "href": "install.html#referencias",
    "title": "Instalación de R y RStudio",
    "section": "5. Referencias",
    "text": "5. Referencias\n\nCRAN. “R for macOS.” [https://cran.r-project.org/bin/macosx/]\nCRAN. “R for Windows (base).” [https://cran.r-project.org/bin/windows/base/]\nCRAN. “Rtools45 for Windows.” [https://cran.r-project.org/bin/windows/Rtools/rtools45/files/rtools45-6691-6492.exe]\nPosit. “RStudio Desktop.” https://www.rstudio.com/products/rstudio/download/\nXQuartz. Sitio oficial. [https://www.xquartz.org]\nR for macOS Developers. “Tools (gfortran).” [https://mac.r-project.org/tools/gfortran-14.2-universal.pkg]\nApple Developer Documentation. “Installing the command-line tools.” [https://mac.r-project.org/tools/]"
  },
  {
    "objectID": "D1.html#propósito-del-día-1",
    "href": "D1.html#propósito-del-día-1",
    "title": "Día 1: ¿Qué es una API? Tipos, ventajas y fuentes que usaremos",
    "section": "Propósito del día 1",
    "text": "Propósito del día 1\nEn este primer día introducimos el concepto de API, los tipos más comunes y por qué son útiles para trabajar con datos sociales. Además, dejamos instaladas las fuentes (paquetes) que consultaremos durante el curso y mostramos ejemplos prácticos mínimos (reproducibles y adaptables).\n\nNota de autoría y uso: algunas secciones (en particular, el listado de APIs económicas y la lógica de ejemplos) se inspiran en el material didáctico publicado por Jeffry Bonilla (2024) en RPubs.1 El encuadre de API REST/RESTful y terminología general se apoya, entre otros, en documentación de AWS.23"
  },
  {
    "objectID": "D1.html#qué-es-una-api",
    "href": "D1.html#qué-es-una-api",
    "title": "Día 1: ¿Qué es una API? Tipos, ventajas y fuentes que usaremos",
    "section": "¿Qué es una API?",
    "text": "¿Qué es una API?\nUna API (Application Programming Interface) es un conjunto de reglas que permite que un software se comunique con otro: define qué se pide, cómo se pide y qué se recibe a cambio.4\nEn la práctica, cuando hablamos de APIs de datos, nos referimos a servicios que exponen información (por ejemplo, series de tiempo, indicadores o catálogos) para consultarla de manera automatizada desde R u otro lenguaje.\nAdemás de definiciones generales, en este curso usaremos dos guías de referencia:\n\nUna guía orientada a datos abiertos y publicación/reutilización mediante APIs (Iniciativa Aporta / datos.gob.es).5\nUna guía práctica sobre Web APIs, URLs, endpoints y métodos HTTP (Caballero, 2022).6\n\n\nPartes típicas de una consulta (URL)\nEn el mundo web, una consulta suele expresarse como una URL con:\n\nDominio: dónde vive el servicio (por ejemplo, api.worldbank.org).\nRuta / endpoint: qué recurso específico se solicita (por ejemplo, v2/country/.../indicator/...).\nParámetros: filtros como periodo, país, indicador, formato de salida (format=json, etc.).7\nEncabezados (headers): por ejemplo, llaves (tokens) para autenticación.8\n\nEstas piezas (URL + parámetros + headers) son la “gramática” mínima para pedir datos a una API.9"
  },
  {
    "objectID": "D1.html#tipos-de-api-que-nos-importan-en-el-curso",
    "href": "D1.html#tipos-de-api-que-nos-importan-en-el-curso",
    "title": "Día 1: ¿Qué es una API? Tipos, ventajas y fuentes que usaremos",
    "section": "Tipos de API que nos importan en el curso",
    "text": "Tipos de API que nos importan en el curso\n\nPor estilo de diseño: REST/RESTful\nMuchas fuentes públicas se consultan vía APIs RESTful, un estilo común para intercambiar información en la web.10\nEn REST es frecuente usar métodos HTTP como:\n\nGET: consultar\nPOST: enviar/crear (menos común en fuentes públicas de datos)\n\nLas respuestas suelen venir en JSON (y a veces XML o CSV).11\n\n\nPor acceso: pública, privada, de socios, compuesta\nPara fines prácticos, conviene distinguir estas categorías (la frontera puede variar según el proveedor): APIs públicas, privadas, de socios y compuestas.12\nLo relevante en un curso aplicado es qué exige cada fuente:\n\n¿Requiere registro?\n¿Pide token/llave?\n¿Tiene límites de descarga (rate limits)?"
  },
  {
    "objectID": "D1.html#ventajas-y-desventajas-de-usar-apis",
    "href": "D1.html#ventajas-y-desventajas-de-usar-apis",
    "title": "Día 1: ¿Qué es una API? Tipos, ventajas y fuentes que usaremos",
    "section": "Ventajas y desventajas de usar APIs",
    "text": "Ventajas y desventajas de usar APIs\n\nVentajas\n\nReproducibilidad: el mismo script reproduce la descarga (sin “clics”).13\nActualización controlada: re-ejecutar y obtener datos recientes.\nDescarga selectiva: pedir solo un indicador/periodo en lugar de bajar archivos enormes.14\nTrazabilidad: queda el endpoint y los parámetros usados (útil para documentación metodológica).15\n\n\n\nDesventajas / riesgos\n\nLímites de uso (rate limits): algunas APIs restringen volumen o frecuencia.16\nCambios: endpoints o parámetros pueden cambiar con el tiempo.17\nDependencia de conectividad: sin internet no hay consulta.\nAutenticación y llaves: hay que gestionar tokens sin exponerlos en repositorios.18"
  },
  {
    "objectID": "D1.html#fuentes-confiables-que-consultaremos-y-qué-aporta-cada-una",
    "href": "D1.html#fuentes-confiables-que-consultaremos-y-qué-aporta-cada-una",
    "title": "Día 1: ¿Qué es una API? Tipos, ventajas y fuentes que usaremos",
    "section": "Fuentes confiables que consultaremos y qué aporta cada una",
    "text": "Fuentes confiables que consultaremos y qué aporta cada una\nA continuación se listan fuentes y paquetes o métodos de acceso que usaremos para ellas.\n\n1) Banco Mundial (World Development Indicators)\n\nQué aporta: indicadores socioeconómicos comparables (PIB, pobreza, educación, salud).\nCómo acceder: API del Banco Mundial (consulta directa) o paquetes como {WDI}.\nDocumentación: API (developer overview) y paquete {WDI}.1920\n\n\n\n2) Naciones Unidas — World Population Prospects 2024 (WPP 2024)\n\nQué aporta: población, fecundidad, mortalidad, migración (estimaciones y proyecciones).\nCómo acceder: paquete {wpp2024} (instalación desde GitHub, según el proyecto) y/o archivos oficiales de WPP 2024.\nReferencia: repositorio/paquete y sitio oficial de WPP 2024.2122\n\n\n\n3) INEGI (México) — API de Indicadores\n\nQué aporta: indicadores económicos y sociales de México.\nCómo acceder: API oficial de Indicadores o paquete {inegiR}.\nDocumentación: API INEGI y paquete {inegiR}.2324\n\n\n\n4) Banco de México — SIE (Series de tiempo)\n\nQué aporta: series macroeconómicas (tipo de cambio, tasas, UDIS, etc.).\nRequisito: token en el header Bmx-Token.25\nDocumentación: guía oficial del SIE-API y ejemplos de endpoints.2627\n\n\n\n5) CEPALSTAT (CEPAL)\n\nQué aporta: indicadores regionales para América Latina y el Caribe (CEPAL).\nCómo acceder: portal y descargas (la modalidad exacta depende del conjunto de datos).\nReferencia: portal CEPALSTAT.28\n\n\n\n6) OCDE, FMI, Eurostat y UN Comtrade\nEstas fuentes son especialmente útiles para ejemplos de datos económicos comparados y comercio internacional. La selección y el enfoque didáctico de esta sección se inspiran en Bonilla (2024).29\n\nOCDE: API de datos (SDMX / OECD Data API).30\nFMI: API (DataMapper / SDMX).31\nEurostat: web services y soporte vía paquete {eurostat}.3233\nUN Comtrade: API de comercio; puede requerir registro/token y tiene límites por plan.3435\n\n\n\n7) Datamx.io y portales CKAN\n\nQué aporta: explorar catálogos de datasets y metadatos en portales de datos abiertos.\nClave: muchos portales usan CKAN y se consultan con el Action API (por ejemplo package_search).36\nReferencia: Datamx.io (portal) y documentación oficial de CKAN API.3738\n\n\n\n8) Bibliografía y metadatos — Crossref\n\nQué aporta: DOIs, referencias, autores/as, años, revistas; útil para revisión de literatura y control bibliográfico.\nCómo acceder: API de Crossref vía paquete {rcrossref}.\nDocumentación: paquete {rcrossref}.39"
  },
  {
    "objectID": "D1.html#ejemplos-prácticos-mínimos-r",
    "href": "D1.html#ejemplos-prácticos-mínimos-r",
    "title": "Día 1: ¿Qué es una API? Tipos, ventajas y fuentes que usaremos",
    "section": "Ejemplos prácticos mínimos (R)",
    "text": "Ejemplos prácticos mínimos (R)\nEstos ejemplos son deliberadamente cortos: muestran el patrón consultar → recibir JSON → convertir a tabla.\n\nA) Patrón general con {httr2} + {jsonlite} (GET + JSON)\nLa API del Banco Mundial permite pedir JSON agregando format=json en la URL.40\n\n# Instalar (solo la primera vez):\n# install.packages(c(\"httr2\", \"jsonlite\", \"dplyr\", \"tibble\"))\n\nlibrary(httr2)\n\nWarning: package 'httr2' was built under R version 4.5.2\n\nlibrary(jsonlite)\nlibrary(dplyr)\n\n\nAdjuntando el paquete: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(tibble)\n\nurl &lt;- \"https://api.worldbank.org/v2/country/MEX/indicator/SP.POP.TOTL?format=json\"\n\nresp &lt;- request(url) |&gt; req_perform()\ntxt  &lt;- resp_body_string(resp)\njson &lt;- fromJSON(txt)\n\n# En esta API, la segunda posición suele traer los datos (la primera trae metadatos)\npop &lt;- as_tibble(json[[2]])\n\npop |&gt; select(date, value) |&gt; head()\n\n# A tibble: 6 × 2\n  date      value\n  &lt;chr&gt;     &lt;int&gt;\n1 2024  130861007\n2 2023  129739759\n3 2022  128613117\n4 2021  127648148\n5 2020  126799054\n6 2019  125762982\n\n\nPaquetes usados (documentación): {httr2}, {jsonlite}, {dplyr}.414243\n\n\nB) Banco de México (SIE) — estructura de endpoint (con token)\nEn el SIE-API de Banxico, el token se envía en el header Bmx-Token.44\nUn patrón de consulta típico para una serie es:\n/series/{idSerie}/datos/{fechaIni}/{fechaFin}45\n\n# Ejemplo conceptual: NO pegues tu token en un documento público.\n# token &lt;- Sys.getenv(\"BANXICO_TOKEN\")\n\n# url &lt;- \"https://www.banxico.org.mx/SieAPIRest/service/v1/series/SF43718/datos/2024-01-01/2024-12-31\"\n# resp &lt;- httr2::request(url) |&gt;\n#   httr2::req_headers(`Bmx-Token` = token) |&gt;\n#   httr2::req_perform()\n# dat &lt;- jsonlite::fromJSON(httr2::resp_body_string(resp))\n\n\n\nC) INEGI — vía paquete (más amigable para docencia)\nLa API de Indicadores de INEGI requiere una llave (token).46\nEl paquete {inegiR} facilita la consulta desde R.47\n\n# install.packages(\"inegiR\")\nlibrary(inegiR)\n\n# key &lt;- Sys.getenv(\"INEGI_KEY\")\n# x &lt;- Serie_INEGI(\"496150\", token = key)  # Ejemplo ilustrativo: el id se revisa en clase\n# head(x)\n\n\n\nD) CKAN / Datamx — búsqueda de datasets por palabra clave\nEn CKAN, package_search permite buscar datasets por texto en metadatos.48\n\n# install.packages(c(\"httr2\", \"jsonlite\"))\nlibrary(httr2)\nlibrary(jsonlite)\n\nbase &lt;- \"https://datamx.io/api/3/action/package_search?q=movilidad\"\nresp &lt;- request(base) |&gt; req_perform()\njson &lt;- fromJSON(resp_body_string(resp))\n\n# ¿Qué trae el resultado?\nnames(json$result)\n\n[1] \"count\"         \"facets\"        \"results\"       \"sort\"         \n[5] \"search_facets\"\n\n# Primeros títulos encontrados (si existen):\nhead(json$result$results$title, 10)\n\n [1] \"Movilidad no-motorizada\"                                                                                 \n [2] \"Obras, Infraestructura y Movilidad\"                                                                      \n [3] \"Movilidad en la ciudad de Xalapa\"                                                                        \n [4] \"Encuestas de movilidad y estacionamiento público\"                                                        \n [5] \"Programa de Apoyo al Empleo/ Movilidad Laboral\"                                                          \n [6] \"Plan Integral de Movilidad Urbana Sustentable (PIMUS)\"                                                   \n [7] \"Fortalecer el transporte público para facilitar la movilidad de los mexiquenses\"                         \n [8] \"Subsidios a los sistemas DIF destinados a contar con espacios de acogida para niñez en movilidad\"        \n [9] \"Programa de Atención a Situaciones de Contingencia Laboral/ Apoyo para movilidad laboral de las personas\"\n[10] \"Encuesta Nacional de Salud y Nutrición 2006 ENSANUT\""
  },
  {
    "objectID": "D1.html#lecturas-y-tareas-sugeridas-para-cerrar-el-día-1",
    "href": "D1.html#lecturas-y-tareas-sugeridas-para-cerrar-el-día-1",
    "title": "Día 1: ¿Qué es una API? Tipos, ventajas y fuentes que usaremos",
    "section": "Lecturas y tareas sugeridas para cerrar el día 1",
    "text": "Lecturas y tareas sugeridas para cerrar el día 1\n\nIdentificar una pregunta de investigación (social/demográfica) y proponer:\n\n1 fuente por API (o paquete)\n1 indicador/tabla que sería útil extraer\n\nPreparar llaves/tokens (INEGI, Banxico) como variables de entorno (sin pegarlas en código).\nExplorar la web del curso: https://aniuxa.github.io/r_api2026/"
  },
  {
    "objectID": "D1.html#referencias",
    "href": "D1.html#referencias",
    "title": "Día 1: ¿Qué es una API? Tipos, ventajas y fuentes que usaremos",
    "section": "Referencias",
    "text": "Referencias"
  },
  {
    "objectID": "D1.html#footnotes",
    "href": "D1.html#footnotes",
    "title": "Día 1: ¿Qué es una API? Tipos, ventajas y fuentes que usaremos",
    "section": "",
    "text": "Bonilla, Jeffry (2024). Uso de APIs en R para el Acceso a datos económicos: OCDE, FMI, Banco Mundial, UN Comtrade y Eurostat. RPubs (17 de noviembre de 2024). https://rpubs.com/JeffryBonilla20/Uso_APIs_R↩︎\nAmazon Web Services (AWS). ¿Qué es una API? https://aws.amazon.com/es/what-is/api/↩︎\nAmazon Web Services (AWS). ¿Qué es una API RESTful? https://aws.amazon.com/es/what-is/restful-api/↩︎\nAmazon Web Services (AWS). ¿Qué es una API? https://aws.amazon.com/es/what-is/api/↩︎\nIniciativa Aporta (datos.gob.es), Ministerio para la Transformación Digital y de la Función Pública (España) / Entidad Pública Empresarial Red.es (2025). Guía práctica para la publicación de Datos Abiertos usando APIs (05/02/2025). https://datos.gob.es/sites/default/files/doc/file/guia_publicacion_apis.pdf↩︎\nCaballero, Alberto Ramírez (2022). Guía para aprender a trabajar con APIS (versión 1). https://cosasdedevs.com/static/dist/files/guia-para-aprender-a-trabajar-con-apis-version-1.pdf↩︎\nWorld Bank Data Help Desk. World Bank API — Basic call structure and parameters (incluye uso de format=json). https://datahelpdesk.worldbank.org/knowledgebase/topics/125589-developer-information↩︎\nBanco de México. SIE API — Token de consulta y autenticación (header Bmx-Token). https://www.banxico.org.mx/SieAPIRest/service/v1/token↩︎\nCaballero, Alberto Ramírez (2022). Guía para aprender a trabajar con APIS (versión 1). https://cosasdedevs.com/static/dist/files/guia-para-aprender-a-trabajar-con-apis-version-1.pdf↩︎\nAmazon Web Services (AWS). ¿Qué es una API RESTful? https://aws.amazon.com/es/what-is/restful-api/↩︎\nAmazon Web Services (AWS). ¿Qué es una API RESTful? https://aws.amazon.com/es/what-is/restful-api/↩︎\nAmazon Web Services (AWS). ¿Qué es una API? https://aws.amazon.com/es/what-is/api/↩︎\nIniciativa Aporta (datos.gob.es), Ministerio para la Transformación Digital y de la Función Pública (España) / Entidad Pública Empresarial Red.es (2025). Guía práctica para la publicación de Datos Abiertos usando APIs (05/02/2025). https://datos.gob.es/sites/default/files/doc/file/guia_publicacion_apis.pdf↩︎\nWorld Bank Data Help Desk. World Bank API — Basic call structure and parameters (incluye uso de format=json). https://datahelpdesk.worldbank.org/knowledgebase/topics/125589-developer-information↩︎\nCaballero, Alberto Ramírez (2022). Guía para aprender a trabajar con APIS (versión 1). https://cosasdedevs.com/static/dist/files/guia-para-aprender-a-trabajar-con-apis-version-1.pdf↩︎\nUN Comtrade. API documentation. https://comtradeplus.un.org/Documentation↩︎\nAmazon Web Services (AWS). ¿Qué es una API RESTful? https://aws.amazon.com/es/what-is/restful-api/↩︎\nBanco de México. SIE API — Token de consulta y autenticación (header Bmx-Token). https://www.banxico.org.mx/SieAPIRest/service/v1/token↩︎\nWorld Bank Data Help Desk. Developer information overview. https://datahelpdesk.worldbank.org/knowledgebase/articles/889392-developer-information-overview↩︎\nCRAN. Paquete WDI: World Development Indicators. https://cran.r-project.org/package=WDI↩︎\n(Proyecto en R) wpp2024: acceso a WPP 2024 desde R (repositorio). https://github.com/PPgp/wpp2024↩︎\nUnited Nations, DESA Population Division. World Population Prospects 2024. https://population.un.org/wpp/↩︎\nINEGI. Servicios: API de Indicadores. https://www.inegi.org.mx/servicios/api_indicadores.html↩︎\nCRAN. Paquete inegiR. https://cran.r-project.org/package=inegiR↩︎\nBanco de México. SIE API — Token de consulta y autenticación (header Bmx-Token). https://www.banxico.org.mx/SieAPIRest/service/v1/token↩︎\nBanco de México. SIE API — Documentación. https://www.banxico.org.mx/SieAPIRest/service/v1/doc/↩︎\nBanco de México. SIE API — Ejemplos de consulta. https://www.banxico.org.mx/SieAPIRest/service/v1/doc/ejemplos↩︎\nCEPAL. CEPALSTAT — Estadísticas y bases de datos. https://statistics.cepal.org/portal/cepalstat/↩︎\nBonilla, Jeffry (2024). Uso de APIs en R para el Acceso a datos económicos: OCDE, FMI, Banco Mundial, UN Comtrade y Eurostat. RPubs (17 de noviembre de 2024). https://rpubs.com/JeffryBonilla20/Uso_APIs_R↩︎\nOECD. OECD Data API / SDMX. https://data.oecd.org/api/sdmx-json-documentation/↩︎\nInternational Monetary Fund (IMF). DataMapper / SDMX API help. https://www.imf.org/external/datamapper/api/help↩︎\nEuropean Commission (Eurostat). Web services. https://ec.europa.eu/eurostat/web/main/data/web-services↩︎\nCRAN. Paquete eurostat. https://cran.r-project.org/package=eurostat↩︎\nUN Comtrade. API documentation. https://comtradeplus.un.org/Documentation↩︎\nCRAN. Paquete comtradr. https://cran.r-project.org/package=comtradr↩︎\nCKAN Documentation. API guide (Action API, package_search). https://docs.ckan.org/en/latest/api/index.html↩︎\nDatamx.io. Portal CKAN de datos abiertos (catálogo). https://datamx.io/dataset↩︎\nCKAN Documentation. API guide (Action API, package_search). https://docs.ckan.org/en/latest/api/index.html↩︎\nCRAN. Paquete rcrossref. https://cran.r-project.org/package=rcrossref↩︎\nWorld Bank Data Help Desk. World Bank API — Basic call structure and parameters (incluye uso de format=json). https://datahelpdesk.worldbank.org/knowledgebase/topics/125589-developer-information↩︎\nCRAN. Paquete httr2. https://cran.r-project.org/package=httr2↩︎\nCRAN. Paquete jsonlite. https://cran.r-project.org/package=jsonlite↩︎\nCRAN. Paquete dplyr. https://cran.r-project.org/package=dplyr↩︎\nBanco de México. SIE API — Token de consulta y autenticación (header Bmx-Token). https://www.banxico.org.mx/SieAPIRest/service/v1/token↩︎\nBanco de México. SIE API — Ejemplos de consulta. https://www.banxico.org.mx/SieAPIRest/service/v1/doc/ejemplos↩︎\nINEGI. Servicios: API de Indicadores. https://www.inegi.org.mx/servicios/api_indicadores.html↩︎\nCRAN. Paquete inegiR. https://cran.r-project.org/package=inegiR↩︎\nCKAN Documentation. API guide (Action API, package_search). https://docs.ckan.org/en/latest/api/index.html↩︎"
  },
  {
    "objectID": "P1.html#preparación",
    "href": "P1.html#preparación",
    "title": "Práctica 1: Búsquedas académicas con {rcrossref}",
    "section": "Preparación",
    "text": "Preparación\n\nInstalar y cargar paquetes\n\nif (!requireNamespace(\"pacman\", quietly = TRUE)) install.packages(\"pacman\")\n\npacman::p_load(\n  rcrossref,\n  dplyr,\n  tidyr,\n  stringr,\n  purrr,\n  lubridate,\n  ggplot2\n)\n\n\n\nBuenas prácticas: User-Agent\nCrossref recomienda identificar el uso con un correo (sirve para contacto si hay problemas y puede mejorar estabilidad).\n\n# Reemplaza por tu correo institucional\noptions(crr_email = \"ana.escoto@politicas.unam.mx\")"
  },
  {
    "objectID": "P1.html#qué-se-puede-buscar-con-crossref",
    "href": "P1.html#qué-se-puede-buscar-con-crossref",
    "title": "Práctica 1: Búsquedas académicas con {rcrossref}",
    "section": "¿Qué se puede buscar con Crossref?",
    "text": "¿Qué se puede buscar con Crossref?\n\nObras (works): artículos, capítulos, libros, reportes con DOI (y a veces sin DOI).\nRevistas (journals): metadatos de revistas.\nMiembros (members): editoriales u organizaciones registradas.\n\nEn ciencias sociales, lo más útil suele ser buscar works y filtrar por: - año (from-pub-date, until-pub-date) - tipo (type: journal-article, book-chapter, book, posted-content) - idioma (limitado; no siempre está presente) - editorial, revista, o DOI/ISSN (si se conoce)"
  },
  {
    "objectID": "P1.html#búsqueda-básica-por-tema-query",
    "href": "P1.html#búsqueda-básica-por-tema-query",
    "title": "Práctica 1: Búsquedas académicas con {rcrossref}",
    "section": "Búsqueda básica por tema (query)",
    "text": "Búsqueda básica por tema (query)\nLa función más usada es cr_works().\n\nres &lt;- cr_works(query = \"economía del cuidado\", limit = 5)\n\n\nres$data %&gt;% \n  names()\n\n [1] \"created\"                \"deposited\"              \"doi\"                   \n [4] \"indexed\"                \"issued\"                 \"member\"                \n [7] \"prefix\"                 \"publisher\"              \"score\"                 \n[10] \"source\"                 \"reference.count\"        \"references.count\"      \n[13] \"is.referenced.by.count\" \"title\"                  \"type\"                  \n[16] \"url\"                    \"author\"                 \"published.online\"      \n[19] \"language\"               \"license\"                \"subtitle\"              \n[22] \"abstract\"               \"container.title\"        \"issn\"                  \n[25] \"page\"                   \"update.policy\"          \"short.container.title\" \n[28] \"assertion\"              \"link\"                   \"issue\"                 \n[31] \"volume\"                 \"reference\"             \n\n\n\n`%||%` &lt;- function(x, y) if (is.null(x)) y else x\n\nres$data %&gt;% \n  transmute(\n    titulo = title,\n    anio = issued %||% published.online,\n    doi = doi,\n    revista = container.title\n  )\n\n# A tibble: 5 × 4\n  titulo                                                     anio  doi   revista\n  &lt;chr&gt;                                                      &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;  \n1 Conciliación, corresponsabilidad y economía del cuidado    2021… 10.6… &lt;NA&gt;   \n2 Personas trabajadoras migrantes en la economía del cuidado 2025  10.5… &lt;NA&gt;   \n3 Start.CareCoop                                             2025  10.5… &lt;NA&gt;   \n4 Economía del cuidado: comparación de las encuestas de uso… 2022… 10.2… Socied…\n5 La idea de la “economía del cuidado” como creadora de val… 2023… 10.2… Tiempo…\n\n\n\nNota: algunos campos pueden venir vacíos. Por eso conviene limpiar y estandarizar.\n\n\nLimpiar resultados (utilidad práctica)\n\nlimpiar_works &lt;- function(df) {\n  df %&gt;%\n    transmute(\n      title = map_chr(title, ~ .x[1] %||% NA_character_),\n      journal = map_chr(`container.title`, ~ .x[1] %||% NA_character_),\n      doi = doi,\n      url = url,\n      date = issued %||% published.online,\n      type = type,\n      publisher = publisher\n    ) %&gt;% \n    mutate(year= year(as_date(date)))\n}\n\ndf &lt;- limpiar_works(res$data)\ndf\n\n# A tibble: 5 × 8\n  title                          journal doi   url   date  type  publisher  year\n  &lt;chr&gt;                          &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;     &lt;dbl&gt;\n1 Conciliación, corresponsabili… &lt;NA&gt;    10.6… http… 2021… post… The Conv…  2021\n2 Personas trabajadoras migrant… &lt;NA&gt;    10.5… http… 2025  book  OIT          NA\n3 Start.CareCoop                 &lt;NA&gt;    10.5… http… 2025  post… Internat…    NA\n4 Economía del cuidado: compara… Socied… 10.2… http… 2022… jour… Universi…  2022\n5 La idea de la “economía del c… Tiempo… 10.2… http… 2023… jour… Universi…  2023"
  },
  {
    "objectID": "P1.html#ejemplos-de-búsquedas-con-temas-sociales",
    "href": "P1.html#ejemplos-de-búsquedas-con-temas-sociales",
    "title": "Práctica 1: Búsquedas académicas con {rcrossref}",
    "section": "Ejemplos de búsquedas con temas sociales",
    "text": "Ejemplos de búsquedas con temas sociales\nA continuación hay ejemplos típicos. Puedes cambiar palabras clave y años.\n\nSegmentación del mercado de trabajo\n\nseg &lt;- cr_works(\n  query = \"labor market segmentation\",\n  filter = c(from_pub_date = \"2010-01-01\"),\n  limit = 10\n)\n\nlimpiar_works(seg$data) %&gt;% \n  select(year, title, journal, doi) %&gt;%\n  arrange(desc(year))\n\n# A tibble: 10 × 4\n    year title                                                     journal doi  \n   &lt;dbl&gt; &lt;chr&gt;                                                     &lt;chr&gt;   &lt;chr&gt;\n 1  2018 Public–Private Wage Disparities, Employment, and Labor M… Oxford… 10.1…\n 2  2016 Labor Market Segmentation and its Implications            &lt;NA&gt;    10.4…\n 3  2013 Urban Labor Market Segmentation in West Africa            Urban … 10.1…\n 4  2011 Labor Market Segmentation in Urumqi, Xinjiang: Exposing … Growth… 10.1…\n 5    NA Labor Market Segmentation in Urumqi, Xinjiang: Exposing … SSRN E… 10.2…\n 6    NA Labor Market Segmentation by Public-Private Sector and I… Econom… 10.1…\n 7    NA The Evolution of China’s Labor Market from Segmentation … China’… 10.1…\n 8    NA An Empirical Study on the Evolution of China’s Urban Lab… China’… 10.1…\n 9    NA The Evolution of the Labor Market: A Review of Theoretic… China’… 10.1…\n10    NA Labor Market Policy in the Republic of Korea: Challenges… From P… 10.1…\n\n\n\n\nPreferencias/Intenciones de fecundidad en México\n\nfec &lt;- cr_works(\n  query = \"(fertility preferences OR fertility intentions) Mexico\",\n  filter = c(from_pub_date = \"2014-01-01\"),\n  limit = 10\n)\n\nlimpiar_works(fec$data) %&gt;% \n  select(year, title, journal, doi) %&gt;%\n  arrange(desc(year))\n\n# A tibble: 10 × 4\n    year title                                                     journal doi  \n   &lt;dbl&gt; &lt;chr&gt;                                                     &lt;chr&gt;   &lt;chr&gt;\n 1  2024 \"Pregnancy and Fertility Intentions\"                      Oxford… 10.1…\n 2  2023 \"The relationship between education and fertility prefer… &lt;NA&gt;    10.3…\n 3  2021 \"Review for \\\"Health status and fertility intentions amo… &lt;NA&gt;    10.1…\n 4  2017 \"Fertility-related knowledge in clusters of German women… &lt;NA&gt;    10.2…\n 5    NA \"Relationship Between Assimilation and Fertility Intenti… The Fe… 10.1…\n 6    NA \"Climate-Related Fertility Concerns: Heat and Fertility … &lt;NA&gt;    10.2…\n 7    NA \"Fertility Intentions and Preferences: E®ects of Structu… Instit… 10.1…\n 8    NA \"Late Fertility Intentions and Fertility in Austria\"      Instit… 10.1…\n 9    NA \"Fertility dependence or fertility autonomy? The impact … Acta P… 10.3…\n10    NA \"Fertility transition and fertility preferences in Turke… Family… 10.4…\n\n\n\n\nTrabajo no remunerado / uso del tiempo\n\nut &lt;- cr_works(\n  query = \"(unpaid work) OR (time use)\",\n  filter = c(from_pub_date = \"2015-01-01\", type = \"journal-article\"),\n  limit = 10\n)\n\nlimpiar_works(ut$data) %&gt;% \n  select(year, title, journal, doi) %&gt;%\n  arrange(desc(year))\n\n# A tibble: 10 × 4\n    year title                                                     journal doi  \n   &lt;dbl&gt; &lt;chr&gt;                                                     &lt;chr&gt;   &lt;chr&gt;\n 1  2025 Student Athlete: Full Time Unpaid Labor                   Societ… 10.2…\n 2  2025 Gender balance between Routine and Non-Routine Unpaid Do… Journa… 10.3…\n 3  2024 Exploring Time Use Patterns and Influences on Unpaid Wor… Econom… 10.5…\n 4  2024 Teaching time use in economics classes: introducing stud… Advanc… 10.4…\n 5  2023 Gendered Patterns of Unpaid Care Work Distribution in In… Artha … 10.2…\n 6  2022 Indian Women’s Unpaid and Unrecognised Work: Results fro… Social… 10.1…\n 7  2017 A study on unpaid work time of Korean married men: Time … The Ce… 10.1…\n 8  2016 Women’s labor in South Africa – Time spent doing simulta… electr… 10.1…\n 9    NA Gendered Patterns f Time Use in Rajasthan: Analyzing the… Europe… 10.5…\n10    NA The Effect of Paid work time, Unpaid work time and Perce… Korean… 10.1…"
  },
  {
    "objectID": "P1.html#búsqueda-por-autoría-author",
    "href": "P1.html#búsqueda-por-autoría-author",
    "title": "Práctica 1: Búsquedas académicas con {rcrossref}",
    "section": "Búsqueda por autoría (author)",
    "text": "Búsqueda por autoría (author)\nPuedes buscar por apellido y nombre. Los resultados dependen de cómo esté registrada la autoría.\n\naut &lt;- cr_works(query = NULL, query_author = \"Nancy Folbre\", limit = 10)\nlimpiar_works(aut$data) %&gt;% \n  select(year, title, journal, doi) %&gt;%\n  arrange(desc(year))\n\nWarning: There was 1 warning in `mutate()`.\nℹ In argument: `year = year(as_date(date))`.\nCaused by warning:\n!  8 failed to parse.\n\n\n# A tibble: 10 × 4\n    year title                                                     journal doi  \n   &lt;dbl&gt; &lt;chr&gt;                                                     &lt;chr&gt;   &lt;chr&gt;\n 1  2018 Soziale Innovation                                        Handbu… 10.1…\n 2  2012 Disturbing Noise Identification and Sound Quality Resear… Lectur… 10.1…\n 3    NA Loot Crates                                               Encycl… 10.1…\n 4    NA Sensor data analysis, reduction, and fusion for assessin… Sensor… 10.1…\n 5    NA The Fiscal Treatment of Family Size: A Further Look       Popula… 10.1…\n 6    NA Teaching Comparative Education in Cuba and the United St… Encycl… 10.1…\n 7    NA Mutagenic Effect of Chemicals on Certain Biochemical Par… Medici… 10.1…\n 8    NA Brain Organoids and the Law                               Collab… 10.1…\n 9    NA Quantum Microscopy of Biological Systems                  Spring… 10.1…\n10    NA Horizontal Transfers and the New Model of TE-Driven Geno… Evolut… 10.1…\n\n\n\nSugerencia: si hay homónimos, agrega un término temático con query además de query_author."
  },
  {
    "objectID": "P1.html#filtrar-por-revista-container-title-o-issn",
    "href": "P1.html#filtrar-por-revista-container-title-o-issn",
    "title": "Práctica 1: Búsquedas académicas con {rcrossref}",
    "section": "Filtrar por revista (container-title) o ISSN",
    "text": "Filtrar por revista (container-title) o ISSN\nSi te interesa una revista específica:\n\nrev &lt;- cr_works(\n  query = \"care economy\",\n  filter = c(container_title = \"Feminist Economics\", from_pub_date = \"2010-01-01\"),\n  limit = 10\n)\n\nlimpiar_works(rev$data) %&gt;%\n  select(year, title, journal, doi) %&gt;%\n  arrange(desc(year))\n\n# A tibble: 10 × 4\n    year title                                                     journal doi  \n   &lt;dbl&gt; &lt;chr&gt;                                                     &lt;chr&gt;   &lt;chr&gt;\n 1  2025 Toward a Caring Economy? The Role of Care in the Europea… Femini… 10.1…\n 2  2024 Dispossession after War: A Feminist Political Economy Pe… Femini… 10.1…\n 3  2021 A Care-Led Recovery From Covid-19: Investing in High-Qua… Femini… 10.1…\n 4  2020 Who's the Boss? The Political Economy of Unpaid Care Wor… Femini… 10.1…\n 5  2020 Political Economy of Cross-Border Marriage: Economic Dev… Femini… 10.1…\n 6  2018 The Care Economy in Post-Reform China: Feminist Research… Femini… 10.1…\n 7  2018 The Glass Ceiling Puzzle, Legal Institutions, and the Sh… Femini… 10.1…\n 8  2017 The Monetized Economy Versus Care and the Environment: D… Femini… 10.1…\n 9  2015 Men, Women, Money, and Morality: The Development of Chin… Femini… 10.1…\n10  2015 Gender Norms and the Economy: Insights from Social Resea… Femini… 10.1…\n\n\nSi conoces el ISSN:\n\nrev2 &lt;- cr_works(filter = c(issn = \"1354-5701\", from_pub_date = \"2018-01-01\"), limit = 10)\nlimpiar_works(rev2$data) %&gt;% \n  select(year, title, journal, doi) %&gt;%\n  arrange(desc(year))\n\nWarning: There was 1 warning in `mutate()`.\nℹ In argument: `year = year(as_date(date))`.\nCaused by warning:\n!  1 failed to parse.\n\n\n# A tibble: 10 × 4\n    year title                                                     journal doi  \n   &lt;dbl&gt; &lt;chr&gt;                                                     &lt;chr&gt;   &lt;chr&gt;\n 1  2025 Structural Infertilities: Childbearing and Reproductive … Femini… 10.1…\n 2  2023 The Political Economy of Patriarchy in the Global South   Femini… 10.1…\n 3  2023 Determinants of Wealth Outcomes in Female-Headed Househo… Femini… 10.1…\n 4  2022 The Evolution of Gender Wealth Inequality in the United … Femini… 10.1…\n 5  2021 Human Mobility, COVID-19, and Policy Responses: The righ… Femini… 10.1…\n 6  2021 Parental Education and Increased Child Survival in Madag… Femini… 10.1…\n 7  2019 Employment Status and Contraceptive Choices of Women Wit… Femini… 10.1…\n 8  2019 Why Can’t I keep my Surname? The Fairness and Welfare of… Femini… 10.1…\n 9  2018 “Our Lands are Our Lives”: Gendered Experiences of Resis… Femini… 10.1…\n10    NA Economic Citizenship: Neoliberal Paradoxes of Empowerment Femini… 10.1…"
  },
  {
    "objectID": "P1.html#recuperar-un-registro-por-doi",
    "href": "P1.html#recuperar-un-registro-por-doi",
    "title": "Práctica 1: Búsquedas académicas con {rcrossref}",
    "section": "Recuperar un registro por DOI",
    "text": "Recuperar un registro por DOI\nCuando ya tienes el DOI, esto es lo más directo.\n\none &lt;- cr_works(dois = \"10.1038/nphys1170\")  # ejemplo (cambia por uno real de tu tema)\none$data %&gt;% limpiar_works()\n\n# A tibble: 1 × 8\n  title                journal        doi      url   date  type  publisher  year\n  &lt;chr&gt;                &lt;chr&gt;          &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;     &lt;dbl&gt;\n1 Measured measurement Nature Physics 10.1038… http… 2009… jour… Springer…  2020"
  },
  {
    "objectID": "P1.html#descargar-más-resultados-cursor-y-evitar-sesgos-de-los-primeros-20",
    "href": "P1.html#descargar-más-resultados-cursor-y-evitar-sesgos-de-los-primeros-20",
    "title": "Práctica 1: Búsquedas académicas con {rcrossref}",
    "section": "Descargar más resultados (cursor) y evitar sesgos de los primeros 20",
    "text": "Descargar más resultados (cursor) y evitar sesgos de los primeros 20\nPara búsquedas grandes, usa cursor = \"*\". Esto permite paginar de forma robusta.\n\n# Ejemplo: traer 50 registros en bloques\ntema &lt;- \"gender wage gap\"\ncursor &lt;- \"*\"\nacum &lt;- list()\n\nfor (i in 1:5) {\n  out &lt;- cr_works(query = tema,\n                  cursor = cursor,\n                  cursor_max = 100, \n                  limit = 10)\n  \n  acum[[i]] &lt;- out$data\n  \n  cursor &lt;- out$meta$`next-cursor`\n}\n\nbig &lt;- bind_rows(acum) %&gt;% limpiar_works()\n\nWarning: There was 1 warning in `mutate()`.\nℹ In argument: `year = year(as_date(date))`.\nCaused by warning:\n!  45 failed to parse.\n\nbig %&gt;% count(year, sort = TRUE)\n\n# A tibble: 15 × 2\n    year     n\n   &lt;dbl&gt; &lt;int&gt;\n 1    NA    80\n 2  2023    27\n 3  2020     8\n 4  2018     5\n 5  2016     4\n 6  2025     4\n 7  2021     3\n 8  2017     2\n 9  2000     1\n10  2005     1\n11  2012     1\n12  2013     1\n13  2014     1\n14  2015     1\n15  2024     1"
  },
  {
    "objectID": "P1.html#visualización-rápida-producción-por-año",
    "href": "P1.html#visualización-rápida-producción-por-año",
    "title": "Práctica 1: Búsquedas académicas con {rcrossref}",
    "section": "Visualización rápida: producción por año",
    "text": "Visualización rápida: producción por año\n\nbig %&gt;%\n  filter(!is.na(year)) %&gt;%\n  count(year) %&gt;%\n  ggplot(aes(x = year, y = n)) +\n  geom_col() +\n  labs(\n    title = \"Resultados en Crossref por año (ejemplo)\",\n    x = NULL,\n    y = \"Número de registros\"\n  )"
  },
  {
    "objectID": "P1.html#exportar-una-bibliografía-mínima",
    "href": "P1.html#exportar-una-bibliografía-mínima",
    "title": "Práctica 1: Búsquedas académicas con {rcrossref}",
    "section": "Exportar una bibliografía mínima",
    "text": "Exportar una bibliografía mínima\nCrossref no es un gestor bibliográfico completo, pero puedes exportar una tabla para revisión.\n\nsalida &lt;- big %&gt;%\n  select(year, title, journal, doi, url) %&gt;%\n  arrange(desc(year))\n\nreadr::write_csv(salida, \"crossref_resultados.csv\")"
  },
  {
    "objectID": "P1.html#consejos-para-búsquedas-en-ciencias-sociales",
    "href": "P1.html#consejos-para-búsquedas-en-ciencias-sociales",
    "title": "Práctica 1: Búsquedas académicas con {rcrossref}",
    "section": "11. Consejos para búsquedas en ciencias sociales",
    "text": "11. Consejos para búsquedas en ciencias sociales\n\nEmpieza con una consulta amplia y después afina con:\n\ncomillas para frases (\"time use\")\noperadores (OR, AND) en el texto del query\nfiltros por año y tipo\n\nRevisa el DOI y el journal para evaluar pertinencia.\nComplementa Crossref con bases especializadas cuando sea necesario (Scopus, WoS, SSRN, RePEc, etc.), según acceso institucional."
  },
  {
    "objectID": "P1.html#referencia-del-paquete",
    "href": "P1.html#referencia-del-paquete",
    "title": "Práctica 1: Búsquedas académicas con {rcrossref}",
    "section": "Referencia del paquete",
    "text": "Referencia del paquete\n\n{rcrossref}: https://docs.ropensci.org/rcrossref/ (documentación del paquete)\nCrossref API: https://api.crossref.org/ (documentación general)"
  },
  {
    "objectID": "P2.html#paquetes",
    "href": "P2.html#paquetes",
    "title": "Práctica 2: Paquetes de consulta",
    "section": "Paquetes",
    "text": "Paquetes\n\nif (!require(\"pacman\")) install.packages(\"pacman\")#instala pacman si se requiere\n\nCargando paquete requerido: pacman\n\npacman::p_load(tidyverse,\n               readxl,\n               writexl, \n               here,\n               magrittr,\n               WDI, \n               imfapi,\n               geodata, \n               countrycode,\n               janitor,\n               skimr)"
  },
  {
    "objectID": "P2.html#una-herramienta-útil-countrycode",
    "href": "P2.html#una-herramienta-útil-countrycode",
    "title": "Práctica 2: Paquetes de consulta",
    "section": "Una herramienta útil {countrycode}",
    "text": "Una herramienta útil {countrycode}\n\n?codelist\n\n\nhead(countrycode::codelist)\n\n# A tibble: 6 × 624\n  ar5      cctld continent country.name.de country.name.de.regex country.name.en\n  &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;           &lt;chr&gt;                 &lt;chr&gt;          \n1 ASIA     .af   Asia      Afghanistan     afghan                Afghanistan    \n2 EIT      .al   Europe    Albanien        albanien              Albania        \n3 MAF      .dz   Africa    Algerien        algerien              Algeria        \n4 ASIA     .as   Oceania   Amerikanisch-S… ^(?=.*amerik).*samoa  American Samoa \n5 OECD1990 .ad   Europe    Andorra         andorra               Andorra        \n6 MAF      .ao   Africa    Angola          angola                Angola         \n# ℹ 618 more variables: country.name.en.regex &lt;chr&gt;, country.name.fr &lt;chr&gt;,\n#   country.name.fr.regex &lt;chr&gt;, country.name.it &lt;chr&gt;,\n#   country.name.it.regex &lt;chr&gt;, cow.name &lt;chr&gt;, cowc &lt;chr&gt;, cown &lt;dbl&gt;,\n#   currency &lt;chr&gt;, dhs &lt;chr&gt;, ecb &lt;chr&gt;, eu28 &lt;chr&gt;, eurocontrol_pru &lt;chr&gt;,\n#   eurocontrol_statfor &lt;chr&gt;, eurostat &lt;chr&gt;, fao &lt;dbl&gt;, fips &lt;chr&gt;,\n#   gaul &lt;dbl&gt;, genc2c &lt;chr&gt;, genc3c &lt;chr&gt;, genc3n &lt;chr&gt;, gwc &lt;chr&gt;, gwn &lt;dbl&gt;,\n#   icao.region &lt;chr&gt;, imf &lt;dbl&gt;, ioc &lt;chr&gt;, iso.name.en &lt;chr&gt;, …\n\n\nEjemplo breve: convertir nombres a ISO3.\n\ntibble(pais = c(\"Mexico\", \"Guatemala\", \"Uruguay\")) %&gt;% \n  mutate(iso3 = countrycode(pais, origin = \"country.name\", destination = \"iso3c\"))\n\n# A tibble: 3 × 2\n  pais      iso3 \n  &lt;chr&gt;     &lt;chr&gt;\n1 Mexico    MEX  \n2 Guatemala GTM  \n3 Uruguay   URY"
  },
  {
    "objectID": "P2.html#preparando-nuestro-análisis",
    "href": "P2.html#preparando-nuestro-análisis",
    "title": "Práctica 2: Paquetes de consulta",
    "section": "Preparando nuestro análisis",
    "text": "Preparando nuestro análisis\nEl directorio de trabajo es la carpeta desde la que R lee/guarda archivos por defecto.\nPara proyectos reproducibles, conviene usar rutas relativas con {here}.\n\ngetwd()\n\n[1] \"/Users/anaescoto/Library/CloudStorage/GoogleDrive-ana.escoto.1@gmail.com/Mi unidad/2026/curso_api_main/r_api2026\"\n\nhere::here()\n\n[1] \"/Users/anaescoto/Library/CloudStorage/GoogleDrive-ana.escoto.1@gmail.com/Mi unidad/2026/curso_api_main/r_api2026\"\n\n\nCreamos una carpeta de trabajo para descargas.\n\ndir.create(here::here(\"data\"), showWarnings = FALSE)"
  },
  {
    "objectID": "P2.html#wdi",
    "href": "P2.html#wdi",
    "title": "Práctica 2: Paquetes de consulta",
    "section": "{WDI}",
    "text": "{WDI}\nLo ideal es primero reconocer la fuente de información y sus tableros [https://datos.bancomundial.org/indicador]\nPara buscar un indicador\n\nWDIsearch('gender') \n\n                 indicator\n166            2.3_GIR.GPI\n169            2.6_PCR.GPI\n2130  BI.EMP.PWRK.PB.FE.ZS\n2132  BI.EMP.PWRK.PB.MA.ZS\n2161  BI.EMP.TOTL.PB.FE.ZS\n2163  BI.EMP.TOTL.PB.MA.ZS\n2341     BI.WAG.PREM.PB.FE\n2347     BI.WAG.PREM.PB.FM\n2348  BI.WAG.PREM.PB.FM.CA\n2349  BI.WAG.PREM.PB.FM.ED\n2350  BI.WAG.PREM.PB.FM.HE\n2351  BI.WAG.PREM.PB.FM.PA\n2352  BI.WAG.PREM.PB.FM.PS\n2353  BI.WAG.PREM.PB.FM.SS\n2357     BI.WAG.PREM.PB.MA\n2375  BI.WAG.PREM.PV.FM.ED\n2376  BI.WAG.PREM.PV.FM.HE\n2377  BI.WAG.PREM.PV.FM.MW\n2378  BI.WAG.PREM.PV.FM.TS\n2381     BI.WAG.PRVS.ED.FM\n2384     BI.WAG.PRVS.HE.FM\n2385     BI.WAG.PRVS.MW.FM\n2389     BI.WAG.PRVS.TS.FM\n2390     BI.WAG.PUBS.CA.FM\n2391     BI.WAG.PUBS.ED.FM\n2394     BI.WAG.PUBS.HE.FM\n2395     BI.WAG.PUBS.PA.FM\n2397     BI.WAG.PUBS.PS.FM\n2399     BI.WAG.PUBS.SS.FM\n2869           CC.ESG.AGFE\n2870           CC.ESG.AGMA\n2871           CC.ESG.CMFE\n2872           CC.ESG.CMMA\n2873           CC.ESG.CNFE\n2874           CC.ESG.CNMA\n2875           CC.ESG.EUFE\n2876           CC.ESG.EUMA\n2877           CC.ESG.FBFE\n2878           CC.ESG.FBMA\n2879           CC.ESG.INFE\n2880           CC.ESG.INMA\n2881           CC.ESG.MAFE\n2882           CC.ESG.MAMA\n2883           CC.ESG.MIFE\n2884           CC.ESG.MIMA\n2885           CC.ESG.OSFE\n2886           CC.ESG.OSMA\n2887           CC.ESG.PAFE\n2888           CC.ESG.PAMA\n2889           CC.ESG.PSFE\n2890           CC.ESG.PSMA\n2891           CC.ESG.SEFE\n2892           CC.ESG.SEMA\n2893           CC.ESG.TCFE\n2894           CC.ESG.TCMA\n2967           CC.ISG.FFFE\n2968           CC.ISG.FFMA\n2969           CC.ISG.NAFE\n2970           CC.ISG.NAMA\n2971           CC.ISG.NBFE\n2972           CC.ISG.NBMA\n7279  FB.FCP.BREG.PR.DI.SC\n9387               GRPFM-1\n9388             GRPFM-1.1\n9389             GRPFM-1.2\n9390               GRPFM-2\n9391             GRPFM-2.1\n9392               GRPFM-3\n9393             GRPFM-3.1\n9394               GRPFM-4\n9395             GRPFM-4.1\n9399               GRPFM-6\n9400             GRPFM-6.1\n9401               GRPFM-7\n9402             GRPFM-7.1\n9403               GRPFM-8\n9404             GRPFM-8.1\n9405               GRPFM-9\n9406             GRPFM-9.1\n9407             GRPFM-9.2\n10956       IQ.CPA.GNDR.XQ\n11809          JI.WAG.GNDR\n11810       JI.WAG.GNDR.HE\n11811       JI.WAG.GNDR.LE\n11812       JI.WAG.GNDR.OL\n11813       JI.WAG.GNDR.RU\n11814       JI.WAG.GNDR.UR\n11815       JI.WAG.GNDR.YG\n17932     PRJ.MYS.15UP.GPI\n17948     PRJ.MYS.25UP.GPI\n18565 SE.ADT.1524.LT.FM.ZS\n20350    SE.ENR.PRIM.FM.ZS\n20352    SE.ENR.PRSC.FM.ZS\n20353    SE.ENR.SECO.FM.ZS\n20355    SE.ENR.TERT.FM.ZS\n20666       SG.LAW.CRDD.GR\n20679       SG.LAW.NODC.HR\n20695          SG.NOD.CONS\n22346        SPI.D3.5.GEND\n                                                                                                                                                               name\n166                                                                                                           Gender parity index for gross intake ratio in grade 1\n169                                                                                                                Gender parity index for primary completion rate \n2130                                                                                      Public sector employment, as a share of paid employment by gender: Female\n2132                                                                                        Public sector employment, as a share of paid employment by gender: Male\n2161                                                                                     Public sector employment, as a share of total employment by gender: Female\n2163                                                                                       Public sector employment, as a share of total employment by gender: Male\n2341                                                                              Public sector wage premium, by gender: Female (compared to all private employees)\n2347                                                                             P-Value: Public sector wage premium, by gender (compared to all private employees)\n2348                                   P-Value: Gender wage premium in the public sector, by industry: Core Public Administration (compared to male paid employees)\n2349                                                    P-Value: Gender wage premium in the public sector, by industry: Education (compared to male paid employees)\n2350                                                       P-Value: Gender wage premium in the public sector, by industry: Health (compared to male paid employees)\n2351                                        P-Value: Gender wage premium in the public sector, by industry: Public Administration (compared to male paid employees)\n2352                                                P-Value: Gender wage premium in the public sector, by industry: Public Safety (compared to male paid employees)\n2353                                              P-Value: Gender wage premium in the public sector, by industry: Social Security (compared to male paid employees)\n2357                                                                                Public sector wage premium, by gender: Male (compared to all private employees)\n2375                                                   P-Value: Gender wage premium in the private sector, by industry: Education (compared to male paid employees)\n2376                                                      P-Value: Gender wage premium in the private sector, by industry: Health (compared to male paid employees)\n2377                                           P-Value: Gender wage premium in the private sector, by occupation: Medical workers (compared to male paid employees)\n2378                                                  P-Value: Gender wage premium in the private sector, by occupation: Teachers (compared to male paid employees)\n2381                                                            Gender wage premium in the private sector, by industry: Education (compared to male paid employees)\n2384                                                               Gender wage premium in the private sector, by industry: Health (compared to male paid employees)\n2385                                                    Gender wage premium in the private sector, by occupation: Medical workers (compared to male paid employees)\n2389                                                           Gender wage premium in the private sector, by occupation: Teachers (compared to male paid employees)\n2390                                            Gender wage premium in the public sector, by industry: Core Public Administration (compared to male paid employees)\n2391                                                             Gender wage premium in the public sector, by industry: Education (compared to male paid employees)\n2394                                                                Gender wage premium in the public sector, by industry: Health (compared to male paid employees)\n2395                                                 Gender wage premium in the public sector, by industry: Public Administration (compared to male paid employees)\n2397                                                         Gender wage premium in the public sector, by industry: Public Safety (compared to male paid employees)\n2399                                                       Gender wage premium in the public sector, by industry: Social Security (compared to male paid employees)\n2869                                                                                            Employment by sector and gender (% of total) - Agriculture - Female\n2870                                                                                              Employment by sector and gender (% of total) - Agriculture - Male\n2871                                                                                               Employment by sector and gender (% of total) - Commerce - Female\n2872                                                                                                 Employment by sector and gender (% of total) - Commerce - Male\n2873                                                                                           Employment by sector and gender (% of total) - Construction - Female\n2874                                                                                             Employment by sector and gender (% of total) - Construction - Male\n2875                                                                              Employment by sector and gender (% of total) - Electricity and utilities - Female\n2876                                                                                Employment by sector and gender (% of total) - Electricity and utilities - Male\n2877                                                                        Employment by sector and gender (% of total) - Financial and Business Services - Female\n2878                                                                          Employment by sector and gender (% of total) - Financial and Business Services - Male\n2879                                                                                               Employment by sector and gender (% of total) - Industry - Female\n2880                                                                                                 Employment by sector and gender (% of total) - Industry - Male\n2881                                                                                          Employment by sector and gender (% of total) - Manufacturing - Female\n2882                                                                                            Employment by sector and gender (% of total) - Manufacturing - Male\n2883                                                                                                 Employment by sector and gender (% of total) - Mining - Female\n2884                                                                                                   Employment by sector and gender (% of total) - Mining - Male\n2885                                                                                         Employment by sector and gender (% of total) - Other services - Female\n2886                                                                                           Employment by sector and gender (% of total) - Other services - Male\n2887                                                                                  Employment by sector and gender (% of total) - Public Administration - Female\n2888                                                                                    Employment by sector and gender (% of total) - Public Administration - Male\n2889                                                                               Employment by sector and gender (% of total) - Public sector employment - Female\n2890                                                                                 Employment by sector and gender (% of total) - Public sector employment - Male\n2891                                                                                               Employment by sector and gender (% of total) - Services - Female\n2892                                                                                                 Employment by sector and gender (% of total) - Services - Male\n2893                                                                              Employment by sector and gender (% of total) - Transport & Communication - Female\n2894                                                                                Employment by sector and gender (% of total) - Transport & Communication - Male\n2967                                                             Informal employment by sector and gender (% of total) - Agriculture, forestry and fishing - Female\n2968                                                               Informal employment by sector and gender (% of total) - Agriculture, forestry and fishing - Male\n2969                                                                               Informal employment by sector and gender (% of total) - Non-agriculture - Female\n2970                                                                                 Informal employment by sector and gender (% of total) - Non-agriculture - Male\n2971                                                                                  Informal employment by sector and gender (% of total) - No breakdown - Female\n2972                                                                                    Informal employment by sector and gender (% of total) - No breakdown - Male\n7279  589_Do laws and regulations prohibit or restrict discriminating consumers based on gender, ethnicity, faith, political affiliation, or appearance?  _#VHGA_03\n9387                                                                                                              Gender impact analysis of budget policy proposals\n9388                                                                                                     (i) Gender impact analysis of expenditure policy proposals\n9389                                                                                                             Gender impact analysis of revenue policy proposals\n9390                                                                                                                 Gender responsive public investment management\n9391                                                                                                             (i) Gender responsive public investment management\n9392                                                                                                                              Gender responsive budget circular\n9393                                                                                                                          (i) Gender responsive budget circular\n9394                                                                                                                Gender responsive budget proposal documentation\n9395                                                                                                            (i) Gender responsive budget proposal documentation\n9399                                                                                                                Tracking budget expenditure for gender equality\n9400                                                                                                            (i) Tracking budget expenditure for gender equality\n9401                                                                                                                                    Gender responsive reporting\n9402                                                                                                                                (i) Gender responsive reporting\n9403                                                                                                               Evaluation of gender impacts of service delivery\n9404                                                                                                           (i) Evaluation of gender impacts of service delivery\n9405                                                                                                           Legislative scrutiny of gender impacts of the budget\n9406                                                                                                          (i) Gender responsive legislative scrutiny of budgets\n9407                                                                                                   (ii) Gender responsive legislative scrutiny of audit reports\n10956                                                                                                                 CPIA gender equality rating (1=low to 6=high)\n11809                                                                                                             Female to male gender wage gap, aged 15-64, total\n11810                                                                                           Female to male gender wage gap, aged 15-64, above primary education\n11811                                                                                       Female to male gender wage gap, aged 15-64, primary education and below\n11812                                                                                                                    Female to male gender wage gap, aged 25-64\n11813                                                                                                             Female to male gender wage gap, aged 15-64, rural\n11814                                                                                                             Female to male gender wage gap, aged 15-64, urban\n11815                                                                                                                    Female to male gender wage gap, aged 15-24\n17932                                                                                         Wittgenstein Projection: Mean Years of Schooling. Age 15+. Gender Gap\n17948                                                                                         Wittgenstein Projection: Mean Years of Schooling. Age 25+. Gender Gap\n18565                                                                                                  Literacy rate, youth (ages 15-24), gender parity index (GPI)\n20350                                                                                                 School enrollment, primary (gross), gender parity index (GPI)\n20352                                                                                   School enrollment, primary and secondary (gross), gender parity index (GPI)\n20353                                                                                               School enrollment, secondary (gross), gender parity index (GPI)\n20355                                                                                                School enrollment, tertiary (gross), gender parity index (GPI)\n20666                                                                            The law prohibits discrimination in access to credit based on gender (1=yes; 0=no)\n20679                                                                                  The law prohibits discrimination in employment based on gender (1=yes; 0=no)\n20695                                                                                    Nondiscrimination clause mentions gender in the constitution (1=yes; 0=no)\n22346                                                                                                               GOAL 5: Gender Equality (5 year moving average)\n\n\n\nWDI(indicator='SG.VAW.REFU.ZS',\n    country=\"all\", \n    start=2020, \n    end=2026) %&gt;%\n  na.omit()\n\n           country iso2c iso3c year SG.VAW.REFU.ZS\n399   Burkina Faso    BF   BFA 2021           23.5\n413       Cambodia    KH   KHM 2022            8.5\n484  Cote d'Ivoire    CI   CIV 2021           12.1\n599          Gabon    GA   GAB 2021            4.9\n605    Gambia, The    GM   GMB 2020           36.3\n618          Ghana    GH   GHA 2022            7.1\n694          India    IN   IND 2021            8.4\n753          Kenya    KE   KEN 2022           12.7\n810        Liberia    LR   LBR 2020            9.9\n839     Madagascar    MG   MDG 2021           10.1\n874     Mauritania    MR   MRT 2021           20.2\n917     Mozambique    MZ   MOZ 2023           12.1\n938          Nepal    NP   NPL 2022            1.6\n1023   Philippines    PH   PHL 2022            1.1\n1060        Rwanda    RW   RWA 2020           30.5\n1203      Tanzania    TZ   TZA 2022           23.7\n\n\n\nwdi_1 &lt;-WDI(indicator='SG.VAW.REFU.ZS',\n    country=\"all\", \n    start=2020, \n    end=2026) %&gt;%\n  na.omit()"
  },
  {
    "objectID": "P2.html#geodata",
    "href": "P2.html#geodata",
    "title": "Práctica 2: Paquetes de consulta",
    "section": "{geodata}",
    "text": "{geodata}\n\nNota: estas descargas pueden ser pesadas y tardar. Aquí buscamos aprender el patrón de uso.\n\nPodemos revisar un poco más del paquete en su repositorio: [https://github.com/rspatial/geodata]\nThe {WorldClim} database.\n\ntmax_data &lt;- worldclim_global(var = \"tmax\", \n                              res = 10,\n                              path= getwd()) # aquí donde quiero guardar la información\n\ntmax_data\n\nclass       : SpatRaster \nsize        : 1080, 2160, 12  (nrow, ncol, nlyr)\nresolution  : 0.1666667, 0.1666667  (x, y)\nextent      : -180, 180, -90, 90  (xmin, xmax, ymin, ymax)\ncoord. ref. : lon/lat WGS 84 \nsources     : wc2.1_10m_tmax_01.tif  \n              wc2.1_10m_tmax_02.tif  \n              wc2.1_10m_tmax_03.tif  \n              ... and 9 more sources\nnames       : wc2.1~ax_01, wc2.1~ax_02, wc2.1~ax_03, wc2.1~ax_04, wc2.1~ax_05, wc2.1~ax_06, ... \nmin values  :     -42.419,   -39.58325,   -53.40000,   -59.54875,    -59.8395,    -60.3600, ... \nmax values  :      42.157,    40.26450,    41.48825,    43.17525,     44.8155,     46.6155, ... \n\n\nTambién se puede descargar la “Gridded Population of the World” (Una base para densidad poblacional de CIESIN)\n\npop &lt;- geodata::population(2020, res=10, path=getwd())\npop\n\nclass       : SpatRaster \nsize        : 1080, 2160, 1  (nrow, ncol, nlyr)\nresolution  : 0.1666667, 0.1666667  (x, y)\nextent      : -180, 180, -90, 90  (xmin, xmax, ymin, ymax)\ncoord. ref. : lon/lat WGS 84 \nsource      : gpw_v4_population_density_rev11_2020_10m.tif \nname        : population_density \nmin value   :               0.00 \nmax value   :           64552.77 \n\n\nNos bajo un tiff con la información"
  },
  {
    "objectID": "P2.html#ifmapi",
    "href": "P2.html#ifmapi",
    "title": "Práctica 2: Paquetes de consulta",
    "section": "{ifmapi}",
    "text": "{ifmapi}\nRevisemos la documentación del paquete\n[https://teal-insights.github.io/r-imfapi/]\n\nimf_get_dataflows() %&gt;% \n  head(n=10)\n\n# A tibble: 10 × 6\n   id                    name            description version agency last_updated\n   &lt;chr&gt;                 &lt;chr&gt;           &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;       \n 1 PI_WCA                Production Ind… \"The Produ… 1.0.0   IMF.S… 2025-04-10T…\n 2 ISORA_LATEST_DATA_PUB ISORA Latest D… \"ISORA dat… 4.0.0   ISORA  2025-07-04T…\n 3 ED                    Export Diversi… \"Covers 20… 1.0.0   IMF.R… 2025-03-29T…\n 4 WPCPER                Crypto-based P… \"This data… 6.0.0   IMF.S… 2025-12-03T…\n 5 ITS                   International … \"Using the… 3.0.1   IMF.R… 2025-07-03T…\n 6 SDG                   IMF Reported S… \"This data… 2.0.1   IMF.S… 2025-08-28T…\n 7 ER                    Exchange Rates… \"This data… 4.0.1   IMF.S… 2025-03-27T…\n 8 FD                    Fiscal Decentr… \"The Fisca… 6.0.0   IMF.S… 2025-03-29T…\n 9 MFS_NSRF              Monetary and F… \"The Monet… 1.0.3   IMF.S… 2025-08-12T…\n10 FSIC                  Financial Soun… \"The Finan… 13.0.1  IMF.S… 2025-08-05T…\n\n\nCon esto podemos un dataflow a partir de su identificador, nombre y descripción. En este ejemplo, utilizaremos el dataflow “WEO” del *World Economic Outlook”\n\nimf_get_datastructure(\"WEO\")\n\n# A tibble: 3 × 3\n  dimension_id type      position\n  &lt;chr&gt;        &lt;chr&gt;        &lt;int&gt;\n1 COUNTRY      Dimension        0\n2 INDICATOR    Dimension        1\n3 FREQUENCY    Dimension        2\n\n\nCon esto vemos lo que hay disponible y podemos pedir los datos\n\nweo &lt;- imf_get(dataflow_id = \"WEO\")\n\n\nimf_get_codelists(\n    c(\"INDICATOR\"),\n    dataflow_id = \"WEO\"  \n  )\n\n# A tibble: 145 × 7\n   dimension_id code      name           description codelist_id codelist_agency\n   &lt;chr&gt;        &lt;chr&gt;     &lt;chr&gt;          &lt;chr&gt;       &lt;chr&gt;       &lt;chr&gt;          \n 1 INDICATOR    LUR       Unemployment … The percen… CL_WEO_IND… IMF.RES        \n 2 INDICATOR    PCOALSA   Coal, South A… Coal, Sout… CL_WEO_IND… IMF.RES        \n 3 INDICATOR    DSP       External debt… Total exte… CL_WEO_IND… IMF.RES        \n 4 INDICATOR    DSI       External debt… Total exte… CL_WEO_IND… IMF.RES        \n 5 INDICATOR    DSP_NGDPD External debt… Total exte… CL_WEO_IND… IMF.RES        \n 6 INDICATOR    BX        Exports of go… The export… CL_WEO_IND… IMF.RES        \n 7 INDICATOR    BM        Imports of go… Total curr… CL_WEO_IND… IMF.RES        \n 8 INDICATOR    DS        External debt… Total exte… CL_WEO_IND… IMF.RES        \n 9 INDICATOR    TTPCH     Terms of trad… The percen… CL_WEO_IND… IMF.RES        \n10 INDICATOR    DSI_NGDPD External debt… Total exte… CL_WEO_IND… IMF.RES        \n# ℹ 135 more rows\n# ℹ 1 more variable: codelist_version &lt;chr&gt;"
  },
  {
    "objectID": "P2.html#repaso-de-revisión-de-dataframes",
    "href": "P2.html#repaso-de-revisión-de-dataframes",
    "title": "Práctica 2: Paquetes de consulta",
    "section": "Repaso de revisión de dataframes",
    "text": "Repaso de revisión de dataframes\nAquí haremos un poquito de revisión\n\nskimr::skim(weo)\n\n\nData summary\n\n\nName\nweo\n\n\nNumber of rows\n354240\n\n\nNumber of columns\n5\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n4\n\n\nnumeric\n1\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nCOUNTRY\n0\n1\n3\n5\n0\n210\n0\n\n\nINDICATOR\n0\n1\n1\n12\n0\n145\n0\n\n\nFREQUENCY\n0\n1\n1\n1\n0\n1\n0\n\n\nTIME_PERIOD\n0\n1\n4\n4\n0\n51\n0\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nOBS_VALUE\n0\n1\n5.917302e+13\n5.075024e+15\n-4.217526e+16\n2.99\n43.86\n7442250\n1.254695e+18\n▇▁▁▁▁"
  },
  {
    "objectID": "P2.html#bibliografía-y-documentación-paquetes",
    "href": "P2.html#bibliografía-y-documentación-paquetes",
    "title": "Práctica 2: Paquetes de consulta",
    "section": "Bibliografía y documentación (paquetes)",
    "text": "Bibliografía y documentación (paquetes)\n\nCRAN. pacman: Package Management Tool. https://cran.r-project.org/package=pacman\nCRAN. tidyverse: Easily Install and Load the ‘Tidyverse’. https://cran.r-project.org/package=tidyverse\nCRAN. WDI: World Development Indicators. https://cran.r-project.org/package=WDI\nCRAN. imfapi: IMF Data API Client. https://cran.r-project.org/package=imfapi\nGitHub. rspatial/geodata. https://github.com/rspatial/geodata\nCRAN. geodata: Download Geographic Data. https://cran.r-project.org/package=geodata\nCRAN. countrycode: Convert Country Names and Country Codes. https://cran.r-project.org/package=countrycode\nCRAN. skimr: Compact and Flexible Summaries of Data. https://cran.r-project.org/package=skimr\nCRAN. janitor: Simple Tools for Examining and Cleaning Dirty Data. https://cran.r-project.org/package=janitor\nCRAN. here: A Simpler Way to Find Your Files. https://cran.r-project.org/package=here"
  },
  {
    "objectID": "P3.html#intro",
    "href": "P3.html#intro",
    "title": "Práctica 3: INEGI y Banxico",
    "section": "Intro",
    "text": "Intro\nEn ciencias sociales, una API sirve para automatizar el acceso a indicadores y series sin “bajar archivos a mano” cada vez. En este módulo aprenderás a:\n\nGuardar tus tokens de forma segura\n\nDescargar una serie del INEGI con {inegiR}\n\nDescargar una serie del Banxico con {siebanxicor}\n\nHacer una gráfica rápida (estática e interactiva)\n\nFuentes oficiales: - INEGI, API de Indicadores (v2.0).\n- Banxico, SIE-API (incluye token y ejemplos)."
  },
  {
    "objectID": "P3.html#tokens-seguridad-básica",
    "href": "P3.html#tokens-seguridad-básica",
    "title": "Práctica 3: INEGI y Banxico",
    "section": "Tokens (seguridad básica)",
    "text": "Tokens (seguridad básica)\nUn token es una “llave” que identifica tus solicitudes. Es personal (va ligado a tu correo o a tu cuenta) y puede bloquearse si se usa de forma indebida o si se exceden límites.\n\nRecomendación (mejor práctica)\nEn vez de escribir el token en el script, guárdalo como variable de entorno y léelo desde R.\n\nOpción A (simple): objeto en el script (solo para práctica local)\n\ntoken_inegi &lt;- \"AQUI_VA_TU_TOKEN_INEGI\"\ntoken_bmx   &lt;- \"AQUI_VA_TU_TOKEN_BANXICO\"\n\n\n\nOpción B (recomendada): .Renviron (persistente y más seguro)\nAbre tu archivo .Renviron:\n\n\n☐ Edit '/Users/anaescoto/.Renviron'.\n\n\n☐ Restart R for changes to take effect.\n\n\n\nAgrega (una por línea) y guarda:\n\nINEGI_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxx\nBANXICO_TOKEN=yyyyyyyyyyyyyyyyyyyyyy\n\nReinicia R y lee los tokens:\n\n\ntoken_inegi &lt;- Sys.getenv(\"INEGI_TOKEN\")\ntoken_bmx   &lt;- Sys.getenv(\"BANXICO_TOKEN\")\n\nnchar(token_inegi); nchar(token_bmx)\n\n[1] 36\n\n\n[1] 64\n\n\n\nImportante: no subas tokens a GitHub ni los compartas por correo."
  },
  {
    "objectID": "P3.html#paquetes",
    "href": "P3.html#paquetes",
    "title": "Práctica 3: INEGI y Banxico",
    "section": "Paquetes",
    "text": "Paquetes\nUsaremos tidyverse para limpiar/graficar y dos paquetes especializados:\n\n{inegiR} para la API de Indicadores del INEGI\n\n{siebanxicor} para el SIE-API de Banxico\n\nAdemás, httr y jsonlite son útiles cuando quieres hacer consultas “a mano” (sin paquete) y entender qué está pasando.\n\npacman::p_load(\n  tidyverse,\n  inegiR,\n  siebanxicor,\n  httr, jsonlite,\n  lubridate,\n  plotly\n)"
  },
  {
    "objectID": "P3.html#inegi-con-inegir-serie-rápida",
    "href": "P3.html#inegi-con-inegir-serie-rápida",
    "title": "Práctica 3: INEGI y Banxico",
    "section": "INEGI con {inegiR} (serie rápida)",
    "text": "INEGI con {inegiR} (serie rápida)\n\n¿Qué indicadores funcionan aquí?\ninegiR está pensado para la API de Indicadores del INEGI, que permite consultar datos y metadatos de indicadores nacionales, estatales y municipales. Puedes explorar la documentación oficial y el “constructor de consultas” aquí:\n\nINEGI API de Indicadores: https://www.inegi.org.mx/servicios/api_indicadores.html\n\n\n\nDescarga de una serie (ejemplo mínimo)\nEn esta práctica usaremos un ejemplo típico: una serie de precios (por ejemplo, el IPC). Lo importante aquí es la mecánica; después cambiarás el ID por el de tu interés.\n\nipc &lt;- inegiR::inegi_series(\n  serie = 910392,  # ejemplo de ID\n  token = token_inegi,\n  database = \"BIE-BISE\" # ojo distinto a documentación\n)\n\nglimpse(ipc)\n\nRows: 684\nColumns: 4\n$ date          &lt;date&gt; 2025-12-01, 2025-11-01, 2025-10-01, 2025-09-01, 2025-08…\n$ date_shortcut &lt;chr&gt; \"M12\", \"M11\", \"M10\", \"M9\", \"M8\", \"M7\", \"M6\", \"M5\", \"M4\",…\n$ values        &lt;dbl&gt; 143.042, 142.645, 141.708, 141.197, 140.867, 140.780, 14…\n$ notes         &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", …\n\nhead(ipc, 5)\n\n        date date_shortcut  values notes\n1 2025-12-01           M12 143.042      \n2 2025-11-01           M11 142.645      \n3 2025-10-01           M10 141.708      \n4 2025-09-01            M9 141.197      \n5 2025-08-01            M8 140.867      \n\n\n\n\nLimpieza mínima para graficar\n\nipc2 &lt;- ipc %&gt;%\n  mutate(\n    date = as.Date(date),\n    values = as.numeric(values)\n  ) %&gt;%\n  arrange(date)\n\nipc2 %&gt;% tail(5)\n\n          date date_shortcut  values notes\n680 2025-08-01            M8 140.867      \n681 2025-09-01            M9 141.197      \n682 2025-10-01           M10 141.708      \n683 2025-11-01           M11 142.645      \n684 2025-12-01           M12 143.042"
  },
  {
    "objectID": "P3.html#inegi-a-mano-para-entender-endpoints",
    "href": "P3.html#inegi-a-mano-para-entender-endpoints",
    "title": "Práctica 3: INEGI y Banxico",
    "section": "INEGI “a mano” (para entender endpoints)",
    "text": "INEGI “a mano” (para entender endpoints)\nA veces conviene entender la estructura general: dominio + endpoint + parámetros + token. La API de INEGI ofrece formatos distintos (JSON-Stat, etc.). En el curso usaremos paquetes la mayor parte del tiempo, pero esta sección sirve para “ver detrás del telón”.\n\nSugerencia didáctica: abre el constructor de consultas del INEGI, arma una consulta, copia la URL y prueba en R con httr::GET().\n\n\n# Ejemplo ilustrativo: sustituye con una URL real del constructor\nurl_ejemplo &lt;- paste0(\"https://www.inegi.org.mx/app/api/indicadores/desarrolladores/jsonxml/INDICATOR/910392/es/00/true/BIE-BISE/2.0/\", token_inegi,\"?type=json\")\n\nresp &lt;- httr::GET(url_ejemplo)\nhttr::status_code(resp)\n\n[1] 200\n\ntxt &lt;- httr::content(resp, as = \"text\", encoding = \"UTF-8\")\njsonlite::fromJSON(txt) |&gt; names()\n\n[1] \"Header\" \"Series\""
  },
  {
    "objectID": "P3.html#banxico-con-siebanxicor",
    "href": "P3.html#banxico-con-siebanxicor",
    "title": "Práctica 3: INEGI y Banxico",
    "section": "Banxico con {siebanxicor}",
    "text": "Banxico con {siebanxicor}\n\nToken de Banxico y límites\nPara usar el SIE-API, Banxico exige un token que se envía en cada solicitud (por header o parámetro). Documentación oficial:\n\nToken Banxico: https://www.banxico.org.mx/SieAPIRest/service/v1/token\n\nEjemplos oficiales (incluye R): https://www.banxico.org.mx/SieAPIRest/service/v1/doc/ejemplos\n\nPortal general SIE-API: https://www.banxico.org.mx/SieAPIRest/\n\nNota importante de compatibilidad: Banxico ha indicado requisitos de seguridad (por ejemplo TLS 1.3) en su portal del API. Revisa tu sistema si encuentras errores de conexión.\n\n\nConfigurar token en el paquete\n\n# Guardar token en la sesión (recomendado; no lo imprimas en pantalla)\nsiebanxicor::setToken(token_bmx)\n\n\n\nBuscar y descargar una serie\nEl flujo típico es:\n\nIdentificar el código de serie (por catálogo o por el buscador del SIE)\n\nDescargar la serie con el paquete\n\nEn el sitio del SIE puedes buscar por nombre/tema y copiar el ID de la serie.\nAquí va un ejemplo (sustituye SF43718 por una serie que elijas):\n\nserie_id &lt;- \"SF43718\"  # EJEMPLO: cambia por una serie real de tu interés\n\nbmx &lt;- siebanxicor::getSeriesData(serie_id) %&gt;% as.data.frame()\n\nglimpse(bmx)\n\nRows: 8,593\nColumns: 2\n$ SF43718.date  &lt;date&gt; 1991-11-12, 1991-11-13, 1991-11-14, 1991-11-15, 1991-11…\n$ SF43718.value &lt;dbl&gt; 3.0735, 3.0712, 3.0718, 3.0684, 3.0673, 3.0661, 3.0632, …\n\nhead(bmx, 5)\n\n  SF43718.date SF43718.value\n1   1991-11-12        3.0735\n2   1991-11-13        3.0712\n3   1991-11-14        3.0718\n4   1991-11-15        3.0684\n5   1991-11-18        3.0673\n\n\n\n\nPreparar para graficar\n\nbmx2 &lt;- bmx %&gt;%\n  mutate(\n    date = as.Date(SF43718.date),\n    value = as.numeric(SF43718.value)\n  ) %&gt;%\n  arrange(date)\n\nggplot(bmx2, aes(x = date, y = value)) +\n  geom_line() +\n  labs(\n    title = paste(\"Banxico ·\", serie_id),\n    x = NULL, y = \"Valor\"\n  )"
  },
  {
    "objectID": "P3.html#bibliografía-y-documentación",
    "href": "P3.html#bibliografía-y-documentación",
    "title": "Práctica 3: INEGI y Banxico",
    "section": "Bibliografía y documentación",
    "text": "Bibliografía y documentación\n\nINEGI. API de Indicadores (v2.0). https://www.inegi.org.mx/servicios/api_indicadores.html\n\nBanxico. SIE-API (portal). https://www.banxico.org.mx/SieAPIRest/\n\nBanxico. Token de consulta. https://www.banxico.org.mx/SieAPIRest/service/v1/token\n\nBanxico. Ejemplos del API. https://www.banxico.org.mx/SieAPIRest/service/v1/doc/ejemplos\n\nCRAN. inegiR: Integrate INEGI’s API with R. https://cran.r-project.org/package=inegiR\n\nCRAN. siebanxicor: Query Data Series from Bank of Mexico. https://cran.r-project.org/package=siebanxicor"
  },
  {
    "objectID": "P4.html#paquetes",
    "href": "P4.html#paquetes",
    "title": "1  Práctica 4: Tablascon {kable} y {gt}”",
    "section": "1.1 Paquetes",
    "text": "1.1 Paquetes\n\nif (!requireNamespace(\"pacman\", quietly = TRUE)) install.packages(\"pacman\")\n\npacman::p_load(\n  tidyverse,\n  scales,\n  WDI,\n  imfapi,\n  countrycode,\n  gt,\n  knitr,\n  kableExtra,\n  webshot2\n)"
  },
  {
    "objectID": "P4.html#una-tabla-sin-formato-punto-de-partida",
    "href": "P4.html#una-tabla-sin-formato-punto-de-partida",
    "title": "1  Práctica 4: Tablascon {kable} y {gt}”",
    "section": "1.2 Una tabla sin formato (punto de partida)",
    "text": "1.2 Una tabla sin formato (punto de partida)\nAntes de embellecer, veamos cómo luce una tabla “cruda”.\n\nwdi_raw &lt;- WDI(\n  indicator = \"SP.POP.TOTL\",\n  country = c(\"MEX\", \"BRA\", \"ARG\", \"COL\", \"CHL\"),\n  star = 2022,\n  end = 2022\n)\n\nwdi_raw\n\n    country iso2c iso3c year SP.POP.TOTL\n1 Argentina    AR   ARG 2022    45407904\n2    Brazil    BR   BRA 2022   210306415\n3     Chile    CL   CHL 2022    19553036\n4  Colombia    CO   COL 2022    51737944\n5    Mexico    MX   MEX 2022   128613117\n\n\nEsta tabla funciona, pero:\n\nno tiene título,\nlos números no están formateados\nno comunica contexto."
  },
  {
    "objectID": "P4.html#primer-paso-kable",
    "href": "P4.html#primer-paso-kable",
    "title": "1  Práctica 4: Tablascon {kable} y {gt}”",
    "section": "1.3 Primer paso: kable()",
    "text": "1.3 Primer paso: kable()\n\nwdi_raw %&gt;%\n  dplyr::select(country, SP.POP.TOTL) %&gt;%\n  dplyr::rename(\n    País = country,\n    Población = SP.POP.TOTL # ponemos el nombre el indicador\n  ) %&gt;%\n  kableExtra::kable()\n\n\n\n\nPaís\nPoblación\n\n\n\n\nArgentina\n45407904\n\n\nBrazil\n210306415\n\n\nChile\n19553036\n\n\nColombia\n51737944\n\n\nMexico\n128613117\n\n\n\n\n\nkableExtra::kable() permite generar tablas limpias con muy poco esfuerzo.\nEsto ya es más legible."
  },
  {
    "objectID": "P4.html#mejorando-con-kableextra",
    "href": "P4.html#mejorando-con-kableextra",
    "title": "1  Práctica 4: Tablascon {kable} y {gt}”",
    "section": "1.4 Mejorando con {kableExtra}",
    "text": "1.4 Mejorando con {kableExtra}\n\nwdi_raw %&gt;%\n  select(country, SP.POP.TOTL) %&gt;%\n  rename(\n    País = country,\n    Población = SP.POP.TOTL\n  ) %&gt;%\n  mutate(Población = scales::comma(Población)) %&gt;%\n  kable(\n    caption = \"Población total (2022)\",\n    align = \"lc\"\n  ) %&gt;%\n  kable_styling(\n    bootstrap_options = c(\"striped\", \"hover\"),\n    full_width = FALSE\n  )\n\n\nPoblación total (2022)\n\n\nPaís\nPoblación\n\n\n\n\nArgentina\n45,407,904\n\n\nBrazil\n210,306,415\n\n\nChile\n19,553,036\n\n\nColombia\n51,737,944\n\n\nMexico\n128,613,117\n\n\n\n\n\n\n\nkableExtra permite estilos rápidos (rayado, hover, tamaño, etc.)."
  },
  {
    "objectID": "P4.html#introducción-a-gt-una-nueva-lógica",
    "href": "P4.html#introducción-a-gt-una-nueva-lógica",
    "title": "1  Práctica 4: Tablascon {kable} y {gt}”",
    "section": "1.5 Introducción a {gt}: una nueva lógica",
    "text": "1.5 Introducción a {gt}: una nueva lógica\ngt() funciona de manera distinta:\n\nprimero se crea el objeto tabla,\nluego se le aplican transformaciones visuales.\n\nEmpezamos con lo más básico.\n\nwdi_raw %&gt;%\n  select(country, SP.POP.TOTL) %&gt;%\n  rename(\n    country_code = country,\n    Población = SP.POP.TOTL\n  ) %&gt;%\n  gt()\n\n\n\n\n\n  \n    \n      country_code\n      Population, total\n    \n  \n  \n    Argentina\n45407904\n    Brazil\n210306415\n    Chile\n19553036\n    Colombia\n51737944\n    Mexico\n128613117\n  \n  \n\n\n\n\n\ntabla_gt &lt;- wdi_raw %&gt;%\n  select(country,  SP.POP.TOTL) %&gt;%\n  rename(\n    country_code = country,\n    Población = SP.POP.TOTL\n  ) %&gt;%\n  gt() %&gt;%\n  tab_header(\n    title = \"Población total en países seleccionados\",\n    subtitle = \"Banco Mundial, 2022\"\n  ) %&gt;%\n  fmt_number(\n    columns = Población,\n    decimals = 0,\n    use_seps = TRUE\n  )\n\ntabla_gt\n\n\n\n\n\n  \n    \n      Población total en países seleccionados\n    \n    \n      Banco Mundial, 2022\n    \n    \n      country_code\n      Population, total\n    \n  \n  \n    Argentina\n45,407,904\n    Brazil\n210,306,415\n    Chile\n19,553,036\n    Colombia\n51,737,944\n    Mexico\n128,613,117\n  \n  \n\n\n\n\nCon banderitas\n\ntabla_gt_flags &lt;- wdi_raw %&gt;%\n  select(country, iso2c , SP.POP.TOTL) %&gt;%\n  rename(\n    country_code = country,\n    Población = SP.POP.TOTL\n  ) %&gt;%\n  gt() %&gt;% \n  gt::fmt_flag(columns = iso2c) %&gt;%\n  fmt_number(\n    columns = Población,\n    decimals = 0,\n    use_seps = TRUE\n  ) %&gt;%\n  tab_header(\n    title = \"Población total con banderas\",\n    subtitle = \"Banco Mundial (WDI)\"\n  )\n\ntabla_gt_flags\n\n\n\n\n\n  \n    \n      Población total con banderas\n    \n    \n      Banco Mundial (WDI)\n    \n    \n      country_code\n      iso2c\n      Population, total\n    \n  \n  \n    Argentina\nArgentina\n45,407,904\n    Brazil\nBrazil\n210,306,415\n    Chile\nChile\n19,553,036\n    Colombia\nColombia\n51,737,944\n    Mexico\nMexico\n128,613,117"
  },
  {
    "objectID": "P4.html#ejemplo-con-datos-del-fmi",
    "href": "P4.html#ejemplo-con-datos-del-fmi",
    "title": "1  Práctica 4: Tablascon {kable} y {gt}”",
    "section": "1.6 Ejemplo con datos del FMI",
    "text": "1.6 Ejemplo con datos del FMI\nRecordemos lo que vimos ayer con {ifmapi}\n\nweo &lt;- imf_get(\n  dataflow_id = \"WEO\",\n  dimensions  = list(\n    INDICATOR = \"NGDP_RPCH\", # solo un indicador\n    COUNTRY = c(\"MEX\", \"BRA\", \"ARG\", \"COL\", \"CHL\")\n  )\n)\n\nweo_simple &lt;- weo %&gt;%\n  janitor::clean_names() %&gt;%\n  group_by(country) %&gt;%\n  filter(time_period == max(time_period, na.rm = TRUE)) %&gt;%\n  ungroup() %&gt;%\n  select(country, time_period, obs_value)\n\n\nweo_simple %&gt;%\n  gt(rowname_col = \"country\") %&gt;%\n  fmt_number(\n    columns = obs_value,\n    decimals = 1\n  ) %&gt;%\n  tab_header(\n    title = \"Crecimiento del PIB real\",\n    subtitle = \"Último año disponible (FMI – WEO)\"\n  ) %&gt;%\n  cols_label(\n    time_period = \"Año\",\n    obs_value = \"Variación %\"\n  )\n\n\n\n\n\n  \n    \n      Crecimiento del PIB real\n    \n    \n      Último año disponible (FMI – WEO)\n    \n    \n      \n      Año\n      Variación %\n    \n  \n  \n    ARG\n2030\n3.2\n    BRA\n2030\n2.5\n    CHL\n2030\n2.2\n    COL\n2030\n2.8\n    MEX\n2030\n2.1"
  },
  {
    "objectID": "P4.html#fusionado-de-datos",
    "href": "P4.html#fusionado-de-datos",
    "title": "1  Práctica 4: Tablascon {kable} y {gt}”",
    "section": "1.7 Fusionado de datos",
    "text": "1.7 Fusionado de datos\n\n1.7.1 Datos: WDI (Banco Mundial)\nAquí descargamos dos indicadores:\n\nPoblación total (SP.POP.TOTL)\nPIB per cápita en USD corrientes (NY.GDP.PCAP.CD)\n\n\npaises_iso3 &lt;- c(\"MEX\", \"GTM\", \"URY\", \"BRA\", \"USA\")\n\nwdi_1980 &lt;- WDI::WDI(\n  country   = paises_iso3,\n  indicator = c(pop_total = \"SP.POP.TOTL\",\n    pib_pc_usd = \"NY.GDP.PCAP.CD\"), \n  start = 1980) %&gt;%\n  as_tibble() %&gt;%\n  mutate(\n    iso2c = countrycode::countrycode(iso3c, \"iso3c\", \"iso2c\")\n  ) %&gt;%\n  select(iso2c, iso3c, country, year, pop_total, pib_pc_usd)\n\nwdi_1980\n\n# A tibble: 225 × 6\n   iso2c iso3c country  year pop_total pib_pc_usd\n   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;   &lt;int&gt;     &lt;dbl&gt;      &lt;dbl&gt;\n 1 BR    BRA   Brazil   1980 121207461      1959.\n 2 BR    BRA   Brazil   1981 124063109      2080.\n 3 BR    BRA   Brazil   1982 126923155      2138.\n 4 BR    BRA   Brazil   1983 129790077      1461.\n 5 BR    BRA   Brazil   1984 132658864      1420.\n 6 BR    BRA   Brazil   1985 135515595      1556.\n 7 BR    BRA   Brazil   1986 138336370      1854.\n 8 BR    BRA   Brazil   1987 141104944      2006.\n 9 BR    BRA   Brazil   1988 143826357      2141.\n10 BR    BRA   Brazil   1989 146502972      2819.\n# ℹ 215 more rows\n\n\n###Datos: FMI con {imfapi} (WEO)\nEjemplo: crecimiento del PIB real (%) (NGDP_RPCH) desde WEO, anual.\n\nweo_gdp &lt;- imfapi::imf_get(\n  dataflow_id = \"WEO\",\n  dimensions  = list(\n    COUNTRY   = paises_iso3,\n    INDICATOR = \"NGDP_RPCH\",\n    FREQUENCY = \"A\"\n  ) ) %&gt;%\n  as_tibble() %&gt;%\n  select(COUNTRY, TIME_PERIOD, OBS_VALUE) %&gt;%\n  rename(iso3c = COUNTRY,\n         year = TIME_PERIOD,\n         gdp_real_growth = OBS_VALUE) %&gt;%\n  mutate(year = as.integer(year))\n\nweo_gdp %&gt;% head(10)\n\n# A tibble: 10 × 3\n   iso3c  year gdp_real_growth\n   &lt;chr&gt; &lt;int&gt;           &lt;dbl&gt;\n 1 BRA    1980           9.19 \n 2 BRA    1981          -4.4  \n 3 BRA    1982           0.596\n 4 BRA    1983          -3.4  \n 5 BRA    1984           5.31 \n 6 BRA    1985           7.90 \n 7 BRA    1986           7.54 \n 8 BRA    1987           3.60 \n 9 BRA    1988           0.264\n10 BRA    1989           3.2  \n\n\n\n\n1.7.2 Unir WDI + FMI (tabla final)\n\ntabla &lt;- wdi_1980 %&gt;%\n  dplyr::left_join(weo_gdp) # ojo\n\nJoining with `by = join_by(iso3c, year)`\n\ntabla\n\n# A tibble: 225 × 7\n   iso2c iso3c country  year pop_total pib_pc_usd gdp_real_growth\n   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;   &lt;int&gt;     &lt;dbl&gt;      &lt;dbl&gt;           &lt;dbl&gt;\n 1 BR    BRA   Brazil   1980 121207461      1959.           9.19 \n 2 BR    BRA   Brazil   1981 124063109      2080.          -4.4  \n 3 BR    BRA   Brazil   1982 126923155      2138.           0.596\n 4 BR    BRA   Brazil   1983 129790077      1461.          -3.4  \n 5 BR    BRA   Brazil   1984 132658864      1420.           5.31 \n 6 BR    BRA   Brazil   1985 135515595      1556.           7.90 \n 7 BR    BRA   Brazil   1986 138336370      1854.           7.54 \n 8 BR    BRA   Brazil   1987 141104944      2006.           3.60 \n 9 BR    BRA   Brazil   1988 143826357      2141.           0.264\n10 BR    BRA   Brazil   1989 146502972      2819.           3.2  \n# ℹ 215 more rows\n\n\n\n\n1.7.3 Tabla bonita con kable (HTML)\nkableExtra permite estilos rápidos (rayado, hover, tamaño, etc.).\n\ntabla %&gt;%\n  select(country, year, pop_total, pib_pc_usd, gdp_real_growth) %&gt;%\n  knitr::kable(\n    format = \"html\",\n    digits = 1,\n    col.names = c(\n      \"País\",\n      \"Año\",\n      \"Población total\",\n      \"PIB per cápita (USD)\",\n      \"Crecimiento PIB real (%)\")\n  ) %&gt;%\n  kableExtra::kable_styling(\n    bootstrap_options = c(\"striped\", \"hover\", \"condensed\", \"responsive\"),\n    full_width = FALSE,\n    position = \"left\"\n  ) %&gt;%\n  kableExtra::column_spec(1, bold = TRUE) %&gt;%\n  kableExtra::add_header_above(c(\" \" = 2, \"WDI\" = 2, \"FMI (WEO)\" = 1))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWDI\n\n\nFMI (WEO)\n\n\n\nPaís\nAño\nPoblación total\nPIB per cápita (USD)\nCrecimiento PIB real (%)\n\n\n\n\nBrazil\n1980\n121207461\n1958.6\n9.2\n\n\nBrazil\n1981\n124063109\n2079.7\n-4.4\n\n\nBrazil\n1982\n126923155\n2137.6\n0.6\n\n\nBrazil\n1983\n129790077\n1461.3\n-3.4\n\n\nBrazil\n1984\n132658864\n1419.7\n5.3\n\n\nBrazil\n1985\n135515595\n1556.1\n7.9\n\n\nBrazil\n1986\n138336370\n1854.0\n7.5\n\n\nBrazil\n1987\n141104944\n2006.0\n3.6\n\n\nBrazil\n1988\n143826357\n2140.7\n0.3\n\n\nBrazil\n1989\n146502972\n2819.0\n3.2\n\n\nBrazil\n1990\n149143223\n2619.8\n-4.2\n\n\nBrazil\n1991\n151724256\n2258.1\n1.0\n\n\nBrazil\n1992\n154275079\n2127.3\n-0.5\n\n\nBrazil\n1993\n156794577\n2348.9\n4.7\n\n\nBrazil\n1994\n159265006\n3298.7\n5.3\n\n\nBrazil\n1995\n161735073\n4756.8\n4.4\n\n\nBrazil\n1996\n164202549\n5179.1\n2.2\n\n\nBrazil\n1997\n166661659\n5299.4\n3.4\n\n\nBrazil\n1998\n169159655\n5105.9\n0.3\n\n\nBrazil\n1999\n171641543\n3493.6\n0.5\n\n\nBrazil\n2000\n174018282\n3766.5\n4.4\n\n\nBrazil\n2001\n176301203\n3176.3\n1.4\n\n\nBrazil\n2002\n178503484\n2855.9\n3.1\n\n\nBrazil\n2003\n180622688\n3090.6\n1.1\n\n\nBrazil\n2004\n182675143\n3663.8\n5.8\n\n\nBrazil\n2005\n184688101\n4827.8\n3.2\n\n\nBrazil\n2006\n186653106\n5934.1\n4.0\n\n\nBrazil\n2007\n188552320\n7409.7\n6.1\n\n\nBrazil\n2008\n190367302\n8908.3\n5.1\n\n\nBrazil\n2009\n192079951\n8678.7\n-0.1\n\n\nBrazil\n2010\n193701929\n11403.3\n7.5\n\n\nBrazil\n2011\n195284734\n13396.6\n4.0\n\n\nBrazil\n2012\n196876111\n12521.7\n1.9\n\n\nBrazil\n2013\n198478299\n12458.9\n3.0\n\n\nBrazil\n2014\n200085127\n12275.0\n0.5\n\n\nBrazil\n2015\n201675532\n8936.2\n-3.5\n\n\nBrazil\n2016\n203218114\n8836.3\n-3.3\n\n\nBrazil\n2017\n204703445\n10080.5\n1.3\n\n\nBrazil\n2018\n206107261\n9300.7\n1.8\n\n\nBrazil\n2019\n207455459\n9029.8\n1.2\n\n\nBrazil\n2020\n208660842\n7074.2\n-3.3\n\n\nBrazil\n2021\n209550294\n7972.5\n4.8\n\n\nBrazil\n2022\n210306415\n9281.3\n3.0\n\n\nBrazil\n2023\n211140729\n10377.6\n3.2\n\n\nBrazil\n2024\n211998573\n10310.5\n3.4\n\n\nGuatemala\n1980\n6900212\n1141.8\n3.7\n\n\nGuatemala\n1981\n7075648\n1216.5\n0.6\n\n\nGuatemala\n1982\n7240241\n1204.0\n-3.5\n\n\nGuatemala\n1983\n7419642\n1219.7\n-2.5\n\n\nGuatemala\n1984\n7630682\n1241.0\n0.5\n\n\nGuatemala\n1985\n7849693\n1238.5\n-0.6\n\n\nGuatemala\n1986\n8070818\n896.1\n0.1\n\n\nGuatemala\n1987\n8296485\n853.9\n3.6\n\n\nGuatemala\n1988\n8532099\n919.1\n3.9\n\n\nGuatemala\n1989\n8775546\n958.4\n3.9\n\n\nGuatemala\n1990\n9024773\n847.7\n3.1\n\n\nGuatemala\n1991\n9272584\n1014.4\n3.0\n\n\nGuatemala\n1992\n9522266\n1096.5\n4.6\n\n\nGuatemala\n1993\n9779761\n1165.7\n3.4\n\n\nGuatemala\n1994\n10043718\n1292.7\n3.5\n\n\nGuatemala\n1995\n10312996\n1421.1\n4.4\n\n\nGuatemala\n1996\n10583526\n1481.1\n2.8\n\n\nGuatemala\n1997\n10857754\n1638.5\n4.1\n\n\nGuatemala\n1998\n11139145\n1741.2\n4.6\n\n\nGuatemala\n1999\n11422965\n1603.6\n3.7\n\n\nGuatemala\n2000\n11697592\n1649.0\n2.5\n\n\nGuatemala\n2001\n11969422\n1537.7\n3.1\n\n\nGuatemala\n2002\n12246915\n1669.3\n3.8\n\n\nGuatemala\n2003\n12525842\n1722.5\n2.6\n\n\nGuatemala\n2004\n12807402\n1840.9\n3.1\n\n\nGuatemala\n2005\n13087629\n2046.5\n3.3\n\n\nGuatemala\n2006\n13367459\n2225.1\n5.4\n\n\nGuatemala\n2007\n13652040\n2458.8\n6.3\n\n\nGuatemala\n2008\n13935174\n2763.1\n3.3\n\n\nGuatemala\n2009\n14215611\n2611.6\n0.5\n\n\nGuatemala\n2010\n14500112\n2805.3\n2.9\n\n\nGuatemala\n2011\n14792126\n3169.0\n4.2\n\n\nGuatemala\n2012\n15089647\n3286.6\n3.0\n\n\nGuatemala\n2013\n15387337\n3444.2\n3.7\n\n\nGuatemala\n2014\n15681725\n3689.1\n4.4\n\n\nGuatemala\n2015\n15971743\n3893.5\n4.1\n\n\nGuatemala\n2016\n16268760\n4060.1\n2.7\n\n\nGuatemala\n2017\n16567357\n4325.0\n3.1\n\n\nGuatemala\n2018\n16845685\n4352.9\n3.4\n\n\nGuatemala\n2019\n17103803\n4512.0\n4.0\n\n\nGuatemala\n2020\n17357325\n4477.6\n-1.8\n\n\nGuatemala\n2021\n17598650\n4912.6\n8.0\n\n\nGuatemala\n2022\n17847877\n5358.7\n4.2\n\n\nGuatemala\n2023\n18124838\n5758.3\n3.5\n\n\nGuatemala\n2024\n18406359\n6150.0\n3.7\n\n\nMexico\n1980\n67300334\n3054.6\n9.5\n\n\nMexico\n1981\n68892108\n3829.1\n9.6\n\n\nMexico\n1982\n70433260\n2621.0\n0.0\n\n\nMexico\n1983\n71971240\n2169.9\n-4.6\n\n\nMexico\n1984\n73506846\n2506.3\n3.5\n\n\nMexico\n1985\n75043414\n2601.7\n1.9\n\n\nMexico\n1986\n76585637\n1756.9\n-3.9\n\n\nMexico\n1987\n78136651\n1888.3\n2.1\n\n\nMexico\n1988\n79695531\n2278.8\n1.2\n\n\nMexico\n1989\n81247182\n2725.1\n3.6\n\n\nMexico\n1990\n82820170\n3154.5\n5.2\n\n\nMexico\n1991\n84430572\n3708.8\n4.0\n\n\nMexico\n1992\n86044809\n4220.6\n3.6\n\n\nMexico\n1993\n87653807\n6048.3\n2.9\n\n\nMexico\n1994\n89259205\n6202.4\n4.4\n\n\nMexico\n1995\n90862455\n4183.9\n-5.9\n\n\nMexico\n1996\n92452702\n4674.4\n6.2\n\n\nMexico\n1997\n94021207\n5567.4\n7.2\n\n\nMexico\n1998\n95575245\n5832.7\n6.2\n\n\nMexico\n1999\n97115707\n6500.0\n2.8\n\n\nMexico\n2000\n98625552\n7524.0\n5.0\n\n\nMexico\n2001\n100099099\n7952.8\n-0.5\n\n\nMexico\n2002\n101548624\n7983.0\n-0.2\n\n\nMexico\n2003\n102978515\n7434.1\n1.2\n\n\nMexico\n2004\n104394131\n7849.7\n3.6\n\n\nMexico\n2005\n105811504\n8671.8\n2.1\n\n\nMexico\n2006\n107253666\n9512.6\n4.8\n\n\nMexico\n2007\n108774360\n10134.3\n2.1\n\n\nMexico\n2008\n110374288\n10523.8\n0.9\n\n\nMexico\n2009\n111999721\n8423.6\n-6.3\n\n\nMexico\n2010\n113623895\n9728.8\n5.0\n\n\nMexico\n2011\n115243504\n10664.5\n3.4\n\n\nMexico\n2012\n116818208\n10744.1\n3.6\n\n\nMexico\n2013\n118343573\n11216.8\n0.9\n\n\nMexico\n2014\n119784261\n11391.4\n2.5\n\n\nMexico\n2015\n121072306\n10021.2\n2.7\n\n\nMexico\n2016\n122251351\n9097.9\n1.8\n\n\nMexico\n2017\n123400057\n9649.3\n1.9\n\n\nMexico\n2018\n124573711\n10084.8\n2.0\n\n\nMexico\n2019\n125762982\n10369.6\n-0.4\n\n\nMexico\n2020\n126799054\n8841.3\n-8.4\n\n\nMexico\n2021\n127648148\n10314.1\n6.0\n\n\nMexico\n2022\n128613117\n11405.8\n3.7\n\n\nMexico\n2023\n129739759\n13861.0\n3.4\n\n\nMexico\n2024\n130861007\n14185.8\n1.4\n\n\nUnited States\n1980\n227225000\n12574.8\n-0.3\n\n\nUnited States\n1981\n229466000\n13976.1\n2.5\n\n\nUnited States\n1982\n231664000\n14433.8\n-1.8\n\n\nUnited States\n1983\n233792000\n15543.9\n4.6\n\n\nUnited States\n1984\n235825000\n17121.2\n7.2\n\n\nUnited States\n1985\n237924000\n18236.8\n4.2\n\n\nUnited States\n1986\n240133000\n19071.2\n3.5\n\n\nUnited States\n1987\n242289000\n20038.9\n3.5\n\n\nUnited States\n1988\n244499000\n21417.0\n4.2\n\n\nUnited States\n1989\n246819000\n22857.2\n3.7\n\n\nUnited States\n1990\n249623000\n23888.6\n1.9\n\n\nUnited States\n1991\n252981000\n24342.3\n-0.1\n\n\nUnited States\n1992\n256514000\n25419.0\n3.5\n\n\nUnited States\n1993\n259919000\n26387.3\n2.8\n\n\nUnited States\n1994\n263126000\n27694.9\n4.0\n\n\nUnited States\n1995\n266278000\n28690.9\n2.7\n\n\nUnited States\n1996\n269394000\n29967.7\n3.8\n\n\nUnited States\n1997\n272657000\n31459.1\n4.4\n\n\nUnited States\n1998\n275854000\n32853.7\n4.5\n\n\nUnited States\n1999\n279040000\n34515.4\n4.8\n\n\nUnited States\n2000\n282162411\n36330.0\n4.1\n\n\nUnited States\n2001\n284968955\n37133.6\n1.0\n\n\nUnited States\n2002\n287625193\n37997.8\n1.7\n\n\nUnited States\n2003\n290107933\n39490.3\n2.8\n\n\nUnited States\n2004\n292805298\n41724.6\n3.8\n\n\nUnited States\n2005\n295516599\n44123.4\n3.5\n\n\nUnited States\n2006\n298379912\n46302.0\n2.8\n\n\nUnited States\n2007\n301231207\n48050.2\n2.0\n\n\nUnited States\n2008\n304093966\n48570.0\n0.1\n\n\nUnited States\n2009\n306771529\n47194.9\n-2.6\n\n\nUnited States\n2010\n309378227\n48642.6\n2.7\n\n\nUnited States\n2011\n311839461\n50024.9\n1.6\n\n\nUnited States\n2012\n314339099\n51708.4\n2.3\n\n\nUnited States\n2013\n316726282\n53179.0\n2.1\n\n\nUnited States\n2014\n319257560\n54973.4\n2.5\n\n\nUnited States\n2015\n321815121\n56572.9\n2.9\n\n\nUnited States\n2016\n324353340\n57638.1\n1.8\n\n\nUnited States\n2017\n326608609\n59635.1\n2.5\n\n\nUnited States\n2018\n328529577\n62499.9\n3.0\n\n\nUnited States\n2019\n330226227\n64746.5\n2.6\n\n\nUnited States\n2020\n331577720\n63515.9\n-2.1\n\n\nUnited States\n2021\n332099760\n70205.1\n6.2\n\n\nUnited States\n2022\n334017321\n76657.2\n2.5\n\n\nUnited States\n2023\n336806231\n81032.3\n2.9\n\n\nUnited States\n2024\n340110988\n84534.0\n2.8\n\n\nUruguay\n1980\n2951953\n3442.8\n6.0\n\n\nUruguay\n1981\n2963246\n3728.4\n1.9\n\n\nUruguay\n1982\n2975492\n3084.8\n-9.4\n\n\nUruguay\n1983\n2988778\n1707.1\n-5.9\n\n\nUruguay\n1984\n3002488\n1615.4\n-1.5\n\n\nUruguay\n1985\n3017037\n1568.4\n0.3\n\n\nUruguay\n1986\n3032845\n1938.8\n7.5\n\n\nUruguay\n1987\n3049896\n2415.7\n5.9\n\n\nUruguay\n1988\n3067961\n2677.2\n0.5\n\n\nUruguay\n1989\n3086255\n2734.4\n1.1\n\n\nUruguay\n1990\n3104403\n2995.4\n0.3\n\n\nUruguay\n1991\n3122354\n3589.0\n3.5\n\n\nUruguay\n1992\n3139702\n4101.7\n7.9\n\n\nUruguay\n1993\n3156345\n4753.0\n2.7\n\n\nUruguay\n1994\n3172834\n5507.6\n7.3\n\n\nUruguay\n1995\n3189440\n6050.5\n-1.4\n\n\nUruguay\n1996\n3206324\n6398.4\n5.6\n\n\nUruguay\n1997\n3223345\n7436.3\n5.5\n\n\nUruguay\n1998\n3239280\n7836.9\n4.5\n\n\nUruguay\n1999\n3254015\n7370.6\n-1.9\n\n\nUruguay\n2000\n3266206\n6987.7\n-1.9\n\n\nUruguay\n2001\n3274251\n6382.8\n-3.8\n\n\nUruguay\n2002\n3278867\n4149.8\n-7.7\n\n\nUruguay\n2003\n3281186\n3671.1\n0.8\n\n\nUruguay\n2004\n3283148\n4168.7\n5.0\n\n\nUruguay\n2005\n3285771\n5284.3\n7.5\n\n\nUruguay\n2006\n3289506\n6001.3\n4.1\n\n\nUruguay\n2007\n3295153\n7222.1\n6.5\n\n\nUruguay\n2008\n3302177\n9424.0\n7.2\n\n\nUruguay\n2009\n3310091\n9881.4\n4.2\n\n\nUruguay\n2010\n3318580\n12641.1\n7.8\n\n\nUruguay\n2011\n3326825\n15132.3\n5.2\n\n\nUruguay\n2012\n3335401\n16259.6\n3.5\n\n\nUruguay\n2013\n3345337\n18335.3\n4.6\n\n\nUruguay\n2014\n3356334\n18322.4\n3.2\n\n\nUruguay\n2015\n3368017\n17125.9\n0.4\n\n\nUruguay\n2016\n3379283\n17009.8\n1.7\n\n\nUruguay\n2017\n3388438\n19184.7\n1.7\n\n\nUruguay\n2018\n3394534\n19249.9\n0.2\n\n\nUruguay\n2019\n3397206\n18315.7\n0.9\n\n\nUruguay\n2020\n3398968\n15757.5\n-7.4\n\n\nUruguay\n2021\n3396695\n17881.8\n5.8\n\n\nUruguay\n2022\n3390913\n20818.6\n4.5\n\n\nUruguay\n2023\n3388081\n23019.4\n0.7\n\n\nUruguay\n2024\n3386588\n23906.5\n3.1\n\n\n\n\n\n\n\n\n\n\n1.7.4 Tabla bonita con gt + banderas (fmt_flag)\nfmt_flag() inserta banderas a partir de códigos ISO (2 o 3 letras).\nAquí usamos ISO2 (por ejemplo, MX, GT, UY).\n\ntabla %&gt;%\n  filter(year%in%c(2000, 2010)) %&gt;% \n  gt::gt() %&gt;%\n  gt::fmt_flag(columns = iso2c) %&gt;%\n  gt::cols_label(\n    iso2c = \"\",\n    country = \"País\",\n    year = \"Año (WDI)\",\n    pop_total = \"Población total\",\n    pib_pc_usd = \"PIB per cápita (USD)\",\n    gdp_real_growth = \"Crecimiento PIB real (%)\"\n  ) %&gt;%\n  gt::fmt_number(columns = pop_total, decimals = 0, use_seps = TRUE) %&gt;%\n  gt::fmt_currency(columns = pib_pc_usd, currency = \"USD\", decimals = 0) %&gt;%\n  gt::fmt_number(columns = gdp_real_growth, decimals = 1) %&gt;%\n  gt::tab_header(\n    title = \"Indicadores socioeconómicos (WDI) y macro (FMI-WEO)\",\n    subtitle = \"Ejemplo de tabla con banderas usando {gt::fmt_flag()}\"\n  ) %&gt;%\n  gt::tab_spanner(label = \"WDI\", columns = c(year, pop_total, pib_pc_usd)) %&gt;%\n  gt::tab_spanner(label = \"FMI (WEO)\", columns = c(gdp_real_growth)) %&gt;%\n  gt::cols_align(align = \"left\", columns = c(iso2c, country)) %&gt;%\n  gt::cols_align(align = \"right\", columns = c(pop_total, pib_pc_usd, gdp_real_growth)) %&gt;%\n  gt::opt_table_outline() %&gt;%\n  gt::opt_row_striping() -&gt; tabla_final\n\ntabla_final\n\n\n\n\n\n  \n    \n      Indicadores socioeconómicos (WDI) y macro (FMI-WEO)\n    \n    \n      Ejemplo de tabla con banderas usando {gt::fmt_flag()}\n    \n    \n      \n      iso3c\n      País\n      \n        WDI\n      \n      \n        FMI (WEO)\n      \n    \n    \n      Año (WDI)\n      Población total\n      PIB per cápita (USD)\n      Crecimiento PIB real (%)\n    \n  \n  \n    Brazil\nBRA\nBrazil\n2000\n174,018,282\n$3,767\n4.4\n    Brazil\nBRA\nBrazil\n2010\n193,701,929\n$11,403\n7.5\n    Guatemala\nGTM\nGuatemala\n2000\n11,697,592\n$1,649\n2.5\n    Guatemala\nGTM\nGuatemala\n2010\n14,500,112\n$2,805\n2.9\n    Mexico\nMEX\nMexico\n2000\n98,625,552\n$7,524\n5.0\n    Mexico\nMEX\nMexico\n2010\n113,623,895\n$9,729\n5.0\n    United States\nUSA\nUnited States\n2000\n282,162,411\n$36,330\n4.1\n    United States\nUSA\nUnited States\n2010\n309,378,227\n$48,643\n2.7\n    Uruguay\nURY\nUruguay\n2000\n3,266,206\n$6,988\n−1.9\n    Uruguay\nURY\nUruguay\n2010\n3,318,580\n$12,641\n7.8"
  },
  {
    "objectID": "P4.html#exportar-tablas-gt",
    "href": "P4.html#exportar-tablas-gt",
    "title": "1  Práctica 4: Tablascon {kable} y {gt}”",
    "section": "1.8 Exportar tablas {gt}",
    "text": "1.8 Exportar tablas {gt}\n\n#gtsave(tabla_final, \"tabla_poblacion.html\")"
  },
  {
    "objectID": "P4.html#ejercicio-práctico-en-clase",
    "href": "P4.html#ejercicio-práctico-en-clase",
    "title": "1  Práctica 4: Tablascon {kable} y {gt}”",
    "section": "1.9 Ejercicio práctico (en clase)",
    "text": "1.9 Ejercicio práctico (en clase)\n\nCambia la lista de países a 6–8 países de tu interés.\nEn WDI, reemplaza pib_pc_usd por otro indicador\nEn FMI-WEO, cambia NGDP_RPCH por otro indicador (explora con imf_get_codelists(\"INDICATOR\", dataflow_id = \"WEO\")).\nEntrega una tabla en gt que incluya:\n\nbanderas con fmt_flag()\nal menos dos columnas numéricas formateadas (fmt_number() / fmt_currency())\ntítulo y subtítulo (tab_header())"
  },
  {
    "objectID": "P5.html#objetivo",
    "href": "P5.html#objetivo",
    "title": "2  “Práctica 5: CKAN y Datamx.io — Personas desaparecidas y no localizadas”",
    "section": "2.1 Objetivo",
    "text": "2.1 Objetivo\nEn esta práctica vamos a:\n\nBuscar un dataset en Datamx.io usando el CKAN Action API (sin entrar al sitio manualmente).\nIdentificar el dataset y sus recursos (archivos disponibles: CSV, ZIP, etc.).\nDescargar un recurso (por ejemplo, un CSV) y cargarlo en R.\nHacer tabulados rápidos con {janitor} (frecuencias, porcentajes y tablas de contingencia).\nGuardar un resultado (opcional) como CSV o Excel para reutilizarlo fuera de R.\n\n\nDatamx.io es un catálogo cívico de datos abiertos en México y está montado sobre CKAN, por lo que expone el estándar .../api/3/action/.... citeturn4view1turn4view0\nCKAN documenta estos endpoints en su guía oficial de API. citeturn3view0"
  },
  {
    "objectID": "P5.html#paquetes",
    "href": "P5.html#paquetes",
    "title": "2  “Práctica 5: CKAN y Datamx.io — Personas desaparecidas y no localizadas”",
    "section": "2.2 Paquetes",
    "text": "2.2 Paquetes\n\nif (!require(\"pacman\")) install.packages(\"pacman\")\n\nCargando paquete requerido: pacman\n\npacman::p_load(\n  httr2, jsonlite,\n  dplyr, tidyr, stringr, purrr,\n  janitor, readr, tibble,\n  lubridate\n)"
  },
  {
    "objectID": "P5.html#ckan-en-3-ideas-para-comenzar",
    "href": "P5.html#ckan-en-3-ideas-para-comenzar",
    "title": "2  “Práctica 5: CKAN y Datamx.io — Personas desaparecidas y no localizadas”",
    "section": "2.3 CKAN en 3 ideas (para comenzar)",
    "text": "2.3 CKAN en 3 ideas (para comenzar)\nEn CKAN, casi todo lo que hacemos desde R se puede resumir así:\n\npackage_search: buscar datasets por palabra clave (por ejemplo “desaparecidas”).\npackage_show: ver el detalle de un dataset (título, descripción, recursos).\ncada dataset incluye una lista de resources (archivos), y cada recurso suele traer un url desde donde se descarga.\n\nEstos endpoints están documentados en la guía oficial de CKAN (Action API). citeturn3view0"
  },
  {
    "objectID": "P5.html#funciones-mínimas-para-hablar-con-ckan-datamx",
    "href": "P5.html#funciones-mínimas-para-hablar-con-ckan-datamx",
    "title": "2  “Práctica 5: CKAN y Datamx.io — Personas desaparecidas y no localizadas”",
    "section": "2.4 Funciones mínimas para hablar con CKAN (Datamx)",
    "text": "2.4 Funciones mínimas para hablar con CKAN (Datamx)\nVamos a construir dos funciones pequeñas. La idea es que puedas reutilizarlas con cualquier tema (educación, salud, seguridad, etc.).\n\nckan_action &lt;- function(action, query = list(), base = \"https://datamx.io/api/3/action\") {\n  url &lt;- paste0(base, \"/\", action)\n\n  req &lt;- httr2::request(url)\n  if (length(query) &gt; 0) req &lt;- httr2::req_url_query(req, !!!query)\n\n  resp &lt;- httr2::req_perform(req)\n  txt  &lt;- httr2::resp_body_string(resp)\n\n  jsonlite::fromJSON(txt, simplifyVector = TRUE)\n}\n\nckan_package_search &lt;- function(q, rows = 10) {\n  ckan_action(\"package_search\", query = list(q = q, rows = rows))\n}\n\nckan_package_show &lt;- function(id) {\n  ckan_action(\"package_show\", query = list(id = id))\n}"
  },
  {
    "objectID": "P5.html#buscar-el-dataset-en-datamx.io",
    "href": "P5.html#buscar-el-dataset-en-datamx.io",
    "title": "2  “Práctica 5: CKAN y Datamx.io — Personas desaparecidas y no localizadas”",
    "section": "2.5 Buscar el dataset en Datamx.io",
    "text": "2.5 Buscar el dataset en Datamx.io\nEn Datamx.io existe un dataset llamado “Personas desaparecidas y no localizadas en México” (publicado como CSV). En lugar de buscarlo a mano, lo vamos a encontrar con package_search.\n\nres_search &lt;- ckan_package_search(q = \"Personas desaparecidas y no localizadas\", rows = 5)\n\n# Resultados (título y \"name\" del dataset)\nhits &lt;- tibble::tibble(\n  title = res_search$result$results$title,\n  name  = res_search$result$results$name\n)\n\nhits\n\n# A tibble: 5 × 2\n  title                                                                    name \n  &lt;chr&gt;                                                                    &lt;chr&gt;\n1 Personas desaparecidas y no localizadas en México                        pers…\n2 Estadística de personas desaparecidas-no localizadas                     esta…\n3 Scraping Bases de Datos de personas no localizadas                       scra…\n4 Registro Nacional de Datos de Personas Extraviadas o Desaparecidas (RNP… regi…\n5 Registro Nacional de Datos de Personas Extraviadas o Desaparecidas del … regi…\n\n\nSi el primer resultado es el que queremos, guardamos su name (que funciona como id dentro de CKAN).\n\ndataset_id &lt;- hits$name[1]\ndataset_id\n\n[1] \"personas-desaparecidas-y-no-localizadas-en-mexico\""
  },
  {
    "objectID": "P5.html#ver-el-detalle-del-dataset-y-elegir-un-recurso-archivo",
    "href": "P5.html#ver-el-detalle-del-dataset-y-elegir-un-recurso-archivo",
    "title": "2  “Práctica 5: CKAN y Datamx.io — Personas desaparecidas y no localizadas”",
    "section": "2.6 Ver el detalle del dataset y elegir un recurso (archivo)",
    "text": "2.6 Ver el detalle del dataset y elegir un recurso (archivo)\nAhora pedimos el detalle con package_show. Esto nos trae una tabla con los recursos.\n\npkg &lt;- ckan_package_show(dataset_id)\n\nrecursos &lt;- pkg$result$resources %&gt;%\n  as_tibble() %&gt;%\n  select(\n    name,\n    format,\n    url,\n    last_modified,\n    size\n  )\n\nrecursos\n\n# A tibble: 1 × 5\n  name     format url                                       last_modified   size\n  &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;                                     &lt;chr&gt;          &lt;int&gt;\n1 data.csv CSV    https://datamx.io/dataset/816b51f3-7e04-… 2025-07-02T0… 2.26e7\n\n\n\n2.6.1 Elegir un CSV\nEn Datamx suele haber varios recursos (a veces CSV, a veces ZIP, a veces ambos).\nAquí seleccionamos el primer recurso que diga CSV.\n\nrecurso_csv &lt;- recursos %&gt;%\n  filter(str_to_upper(format) == \"CSV\") %&gt;%\n  slice(1)\n\nrecurso_csv\n\n# A tibble: 1 × 5\n  name     format url                                       last_modified   size\n  &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;                                     &lt;chr&gt;          &lt;int&gt;\n1 data.csv CSV    https://datamx.io/dataset/816b51f3-7e04-… 2025-07-02T0… 2.26e7\n\n\nGuardamos la URL del recurso:\n\ncsv_url &lt;- recurso_csv$url[[1]]\ncsv_url\n\n[1] \"https://datamx.io/dataset/816b51f3-7e04-4834-9b58-d51e02cb4783/resource/e2e8fd8b-dc10-440a-a015-473f3616c83a/download/data.csv\""
  },
  {
    "objectID": "P5.html#descargar-y-cargar-el-csv",
    "href": "P5.html#descargar-y-cargar-el-csv",
    "title": "2  “Práctica 5: CKAN y Datamx.io — Personas desaparecidas y no localizadas”",
    "section": "2.7 Descargar y cargar el CSV",
    "text": "2.7 Descargar y cargar el CSV\n\ndf_raw &lt;- readr::read_csv(csv_url, show_col_types = FALSE)\n\ndf_raw %&gt;% \n  dplyr::glimpse()\n\nRows: 133,887\nColumns: 11\n$ ID_VICTIMA         &lt;chr&gt; \"D49C001E-41E4-45B7-B8FD-D867578F093E\", \"2D2B5CD4-7…\n$ ORIGEN_REPORTE     &lt;chr&gt; \"FISCALIA GENERAL DE DURANGO\", \"COMISION LOCAL DE B…\n$ FECHA_NACIMIENTO   &lt;chr&gt; \"CONFIDENCIAL\", \"1971-06-13\", \"CONFIDENCIAL\", \"CONF…\n$ SEXO               &lt;chr&gt; \"CONFIDENCIAL\", \"HOMBRE\", \"CONFIDENCIAL\", \"CONFIDEN…\n$ FECHA_DESAPARICION &lt;chr&gt; \"CONFIDENCIAL\", \"2025-09-28 04:40:00\", \"CONFIDENCIA…\n$ FECHA_REGISTRO     &lt;chr&gt; \"CONFIDENCIAL\", \"2025-09-29 10:00:00\", \"CONFIDENCIA…\n$ ESTATUS_VICTIMA    &lt;chr&gt; \"CONFIDENCIAL\", \"DESAPARECIDA\", \"CONFIDENCIAL\", \"CO…\n$ CVE_ENT            &lt;chr&gt; \"10\", \"25\", \"09\", \"02\", \"02\", \"21\", \"02\", \"21\", \"10…\n$ ENTIDAD            &lt;chr&gt; \"DURANGO\", \"SINALOA\", \"CIUDAD DE MÉXICO\", \"BAJA CAL…\n$ CVE_MUN            &lt;chr&gt; \"999\", \"004\", \"999\", \"999\", \"999\", \"114\", \"999\", \"1…\n$ MUNICIPIO          &lt;chr&gt; \"CONFIDENCIAL\", \"CONCORDIA\", \"CONFIDENCIAL\", \"CONFI…\n\n\n\n2.7.1 Limpiar nombres de variables\nCasi siempre conviene estandarizar nombres con janitor::clean_names():\n\ndf &lt;- df_raw %&gt;% \n  janitor::clean_names()\n\nnames(df)\n\n [1] \"id_victima\"         \"origen_reporte\"     \"fecha_nacimiento\"  \n [4] \"sexo\"               \"fecha_desaparicion\" \"fecha_registro\"    \n [7] \"estatus_victima\"    \"cve_ent\"            \"entidad\"           \n[10] \"cve_mun\"            \"municipio\""
  },
  {
    "objectID": "P5.html#tabulados-con-janitor-rápidos-y-claros",
    "href": "P5.html#tabulados-con-janitor-rápidos-y-claros",
    "title": "2  “Práctica 5: CKAN y Datamx.io — Personas desaparecidas y no localizadas”",
    "section": "2.8 Tabulados con {janitor} (rápidos y claros)",
    "text": "2.8 Tabulados con {janitor} (rápidos y claros)\n\n2.8.1 Una tabla de frecuencias simple\nPrimero, veamos qué variables tenemos. En este tipo de datos suele haber columnas como:\n\nentidad / estado\nsexo\nrango_edad o edad\nanio o fecha\n\nComo los nombres pueden variar, vamos a detectar algunas opciones comunes.\n\nposibles_entidad &lt;- intersect(names(df), c(\"entidad\", \"entidad_federativa\", \"estado\", \"estado_desaparicion\", \"entidad_desaparicion\"))\nposibles_sexo    &lt;- intersect(names(df), c(\"sexo\", \"genero\"))\nposibles_anio    &lt;- intersect(names(df), c(\"anio\", \"anio_desaparicion\", \"anio_hecho\", \"anio_registro\", \"year\"))\n\nlist(entidad = posibles_entidad, sexo = posibles_sexo, anio = posibles_anio)\n\n$entidad\n[1] \"entidad\"\n\n$sexo\n[1] \"sexo\"\n\n$anio\ncharacter(0)\n\n\n\n2.8.1.1 Frecuencia por entidad\n\n  tab_entidad &lt;- df %&gt;%\n    janitor::tabyl(entidad) %&gt;%\n    janitor::adorn_totals(\"row\") %&gt;%\n    janitor::adorn_percentages(\"row\") %&gt;%\n    janitor::adorn_pct_formatting(digits = 1) %&gt;%\n    janitor::adorn_ns()\n\nWarning in janitor::adorn_ns(.): adorn_ns() is meant to be called on a two_way\ntabyl; consider combining columns of a one_way tabyl with tidyr::unite()\n\n  tab_entidad %&gt;% \n    head(15)\n\n             entidad           n            percent\n      AGUASCALIENTES 1     (502) 0.0% (0.003749430)\n     BAJA CALIFORNIA 1   (4,478) 0.0% (0.033446115)\n BAJA CALIFORNIA SUR 1   (1,024) 0.0% (0.007648241)\n            CAMPECHE 1     (135) 0.0% (0.001008313)\n             CHIAPAS 1   (1,678) 0.0% (0.012532957)\n           CHIHUAHUA 1   (4,107) 0.0% (0.030675122)\n    CIUDAD DE MÉXICO 1   (6,802) 0.0% (0.050804036)\n            COAHUILA 1   (3,647) 0.0% (0.027239388)\n              COLIMA 1   (1,436) 0.0% (0.010725463)\n             DURANGO 1   (1,067) 0.0% (0.007969407)\n    ESTADO DE MÉXICO 1  (14,344) 0.0% (0.107135121)\n          GUANAJUATO 1   (5,293) 0.0% (0.039533338)\n            GUERRERO 1   (4,416) 0.0% (0.032983038)\n             HIDALGO 1   (1,590) 0.0% (0.011875686)\n             JALISCO 1  (14,811) 0.0% (0.110623137)\n\n\n\n\n\n2.8.2 Top 10 entidades\n\n  top10 &lt;- df %&gt;%\n    count(entidad, sort = TRUE) %&gt;%\n    slice(1:10)\n\n  top10\n\n# A tibble: 10 × 2\n   entidad              n\n   &lt;chr&gt;            &lt;int&gt;\n 1 JALISCO          14811\n 2 ESTADO DE MÉXICO 14344\n 3 TAMAULIPAS       13452\n 4 MICHOACÁN         7112\n 5 NUEVO LEÓN        7095\n 6 VERACRUZ          6928\n 7 CIUDAD DE MÉXICO  6802\n 8 SINALOA           6596\n 9 SONORA            5537\n10 GUANAJUATO        5293\n\n\n\n\n2.8.3 Tabla de contingencia: entidad × sexo\n\n  df %&gt;%\n    janitor::tabyl(entidad, sexo) %&gt;%\n    janitor::adorn_totals(c(\"row\", \"col\")) %&gt;%\n    janitor::adorn_percentages(\"row\") %&gt;%\n    janitor::adorn_pct_formatting(digits = 1)\n\n             entidad CONFIDENCIAL HOMBRE INDETERMINADO MUJER  Total\n      AGUASCALIENTES        45.0%  41.4%          0.2% 13.3% 100.0%\n     BAJA CALIFORNIA        32.9%  49.4%          0.1% 17.6% 100.0%\n BAJA CALIFORNIA SUR        51.8%  42.0%          0.2%  6.1% 100.0%\n            CAMPECHE        53.3%  31.9%          0.0% 14.8% 100.0%\n             CHIAPAS        20.9%  61.2%          0.0% 17.9% 100.0%\n           CHIHUAHUA         8.4%  78.7%          0.0% 12.9% 100.0%\n    CIUDAD DE MÉXICO        58.4%  26.6%          1.6% 13.4% 100.0%\n            COAHUILA        29.1%  54.9%          0.1% 15.9% 100.0%\n              COLIMA         8.9%  69.4%          0.1% 21.6% 100.0%\n             DURANGO        38.5%  50.2%          0.2% 11.1% 100.0%\n    ESTADO DE MÉXICO        22.6%  46.0%          0.1% 31.4% 100.0%\n          GUANAJUATO        58.7%  34.9%          0.9%  5.6% 100.0%\n            GUERRERO         9.1%  75.8%          0.3% 14.8% 100.0%\n             HIDALGO        13.3%  55.2%          0.1% 31.3% 100.0%\n             JALISCO        67.5%  28.0%          0.1%  4.4% 100.0%\n           MICHOACÁN        17.2%  69.1%          0.0% 13.6% 100.0%\n             MORELOS        37.0%  42.9%          0.0% 20.0% 100.0%\n             NAYARIT        66.0%  29.6%          0.1%  4.3% 100.0%\n          NUEVO LEÓN        48.3%  38.2%          0.0% 13.4% 100.0%\n              OAXACA        45.0%  40.5%          0.3% 14.2% 100.0%\n              PUEBLA        57.0%  28.1%          0.0% 14.9% 100.0%\n           QUERÉTARO        17.6%  65.6%          0.0% 16.8% 100.0%\n        QUINTANA ROO        36.2%  46.1%          0.1% 17.6% 100.0%\n     SAN LUIS POTOSÍ        40.9%  48.9%          0.1% 10.2% 100.0%\n        SE DESCONOCE        19.8%  58.2%          2.7% 19.3% 100.0%\n             SINALOA        28.6%  65.2%          0.0%  6.2% 100.0%\n              SONORA        19.1%  68.6%          0.1% 12.2% 100.0%\n             TABASCO        19.2%  40.0%          0.3% 40.5% 100.0%\n          TAMAULIPAS        39.3%  48.1%          0.1% 12.5% 100.0%\n            TLAXCALA        43.1%  37.2%          0.0% 19.7% 100.0%\n            VERACRUZ        34.9%  51.7%          0.3% 13.1% 100.0%\n             YUCATÁN        62.7%  31.5%          0.0%  5.8% 100.0%\n           ZACATECAS        39.7%  52.0%          0.0%  8.3% 100.0%\n               Total        36.7%  48.3%          0.3% 14.7% 100.0%\n\n\n\n\n2.8.4 7.4 Un tabulado por año (si existe)\n\nif (length(posibles_anio) &gt; 0) {\n  var_anio &lt;- posibles_anio[1]\n\n  df %&gt;%\n    janitor::tabyl(.data[[var_anio]]) %&gt;%\n    arrange(desc(n)) %&gt;%\n    head(15)\n}"
  },
  {
    "objectID": "P5.html#exportar-resultados-opcional",
    "href": "P5.html#exportar-resultados-opcional",
    "title": "2  “Práctica 5: CKAN y Datamx.io — Personas desaparecidas y no localizadas”",
    "section": "2.9 Exportar resultados (opcional)",
    "text": "2.9 Exportar resultados (opcional)\n\n2.9.1 Exportar como CSV\n\n  readr::write_csv(top10, \"top10_entidades_desaparecidas.csv\")\n\n\nSi estás trabajando dentro de un proyecto, este archivo se guardará en la carpeta del proyecto."
  },
  {
    "objectID": "P5.html#ejercicio-práctico-para-entregar-o-discutir-en-clase",
    "href": "P5.html#ejercicio-práctico-para-entregar-o-discutir-en-clase",
    "title": "2  “Práctica 5: CKAN y Datamx.io — Personas desaparecidas y no localizadas”",
    "section": "2.10 Ejercicio práctico (para entregar o discutir en clase)",
    "text": "2.10 Ejercicio práctico (para entregar o discutir en clase)\n\nBusca en Datamx.io otro dataset del área seguridad-y-justicia (por ejemplo, homicidios, suicidios, delitos, etc.).\nDescárgalo con CKAN (sin bajar el archivo manualmente).\nCrea:\n\nun top 10 de la unidad territorial (entidad/municipio),\nun tabulado con {janitor} (una variable × otra variable),\nun archivo exportado (CSV) con tu tabla final."
  },
  {
    "objectID": "P5.html#referencias",
    "href": "P5.html#referencias",
    "title": "2  “Práctica 5: CKAN y Datamx.io — Personas desaparecidas y no localizadas”",
    "section": "2.11 Referencias",
    "text": "2.11 Referencias\n\nCKAN. API Guide (Action API).\nDatamx.io. La plataforma cívica de datos abiertos de México.\nDatamx.io. Listado de datasets (incluye “Personas desaparecidas y no localizadas en México”)."
  },
  {
    "objectID": "videos.html#sesión-19-de-enero-2026",
    "href": "videos.html#sesión-19-de-enero-2026",
    "title": "Videos y extras",
    "section": "Sesión 19 de enero 2026",
    "text": "Sesión 19 de enero 2026\n\nCódigo"
  },
  {
    "objectID": "videos.html#sesión-20-de-enero-2026",
    "href": "videos.html#sesión-20-de-enero-2026",
    "title": "Videos y extras",
    "section": "Sesión 20 de enero 2026",
    "text": "Sesión 20 de enero 2026\n\nCódigo P2 Código P3"
  }
]